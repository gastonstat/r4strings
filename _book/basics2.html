<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Basic Manipulations with "stringr" Functions | Handling Strings With R</title>
  <meta name="description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Basic Manipulations with "stringr" Functions | Handling Strings With R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://leanpub.com/r4strings" />
  <meta property="og:image" content="https://leanpub.com/r4stringsimages/cover.png" />
  <meta property="og:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="github-repo" content="gastonstat/r4strings" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Basic Manipulations with "stringr" Functions | Handling Strings With R" />
  
  <meta name="twitter:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="twitter:image" content="https://leanpub.com/r4stringsimages/cover.png" />

<meta name="author" content="Gaston Sanchez" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basics1.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handling Strings With R</a></li>

<li class="divider"></li>
<li><a href="index.html#r4strings"><code>r4strings</code></a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Full Edition</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#preview-edition"><i class="fa fa-check"></i>Preview Edition</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#text-is-omnipresent"><i class="fa fa-check"></i>Text Is Omnipresent</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-this-book"><i class="fa fa-check"></i>About This Book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-the-reader"><i class="fa fa-check"></i>About the Reader</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#main-resources"><i class="fa fa-check"></i>Main Resources</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#citation"><i class="fa fa-check"></i>Citation</a></li>
</ul></li>
<li class="part"><span><b>I Characters and Strings in R</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introductory Appetizer</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#a-toy-example"><i class="fa fa-check"></i><b>1.1</b> A Toy Example</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#abbreviating-strings"><i class="fa fa-check"></i><b>1.1.1</b> Abbreviating strings</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#getting-the-longest-name"><i class="fa fa-check"></i><b>1.1.2</b> Getting the longest name</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#selecting-states"><i class="fa fa-check"></i><b>1.1.3</b> Selecting States</a></li>
<li class="chapter" data-level="1.1.4" data-path="intro.html"><a href="intro.html#some-computations"><i class="fa fa-check"></i><b>1.1.4</b> Some computations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chars.html"><a href="chars.html"><i class="fa fa-check"></i><b>2</b> Character Strings in R</a><ul>
<li class="chapter" data-level="2.1" data-path="chars.html"><a href="chars.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="chars.html"><a href="chars.html#characters-in-r"><i class="fa fa-check"></i><b>2.2</b> Characters in R</a></li>
<li class="chapter" data-level="2.3" data-path="chars.html"><a href="chars.html#getting-started-with-strings"><i class="fa fa-check"></i><b>2.3</b> Getting Started with Strings</a></li>
<li class="chapter" data-level="2.4" data-path="chars.html"><a href="chars.html#creating-character-strings"><i class="fa fa-check"></i><b>2.4</b> Creating Character Strings</a><ul>
<li class="chapter" data-level="2.4.1" data-path="chars.html"><a href="chars.html#empty-string"><i class="fa fa-check"></i><b>2.4.1</b> Empty string</a></li>
<li class="chapter" data-level="2.4.2" data-path="chars.html"><a href="chars.html#empty-character-vector"><i class="fa fa-check"></i><b>2.4.2</b> Empty character vector</a></li>
<li class="chapter" data-level="2.4.3" data-path="chars.html"><a href="chars.html#function-c"><i class="fa fa-check"></i><b>2.4.3</b> Function <code>c()</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="chars.html"><a href="chars.html#is.character-and-as.character"><i class="fa fa-check"></i><b>2.4.4</b> <code>is.character()</code> and <code>as.character()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="chars.html"><a href="chars.html#strings-and-r-objects"><i class="fa fa-check"></i><b>2.5</b> Strings and R Objects</a><ul>
<li class="chapter" data-level="2.5.1" data-path="chars.html"><a href="chars.html#behavior-of-r-objects-with-character-strings"><i class="fa fa-check"></i><b>2.5.1</b> Behavior of R objects with character strings</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="chars.html"><a href="chars.html#the-workhorse-function-paste"><i class="fa fa-check"></i><b>2.6</b> The Workhorse Function <code>paste()</code></a></li>
<li class="chapter" data-level="2.7" data-path="chars.html"><a href="chars.html#getting-text-into-r"><i class="fa fa-check"></i><b>2.7</b> Getting Text into R</a><ul>
<li class="chapter" data-level="2.7.1" data-path="chars.html"><a href="chars.html#reading-tables"><i class="fa fa-check"></i><b>2.7.1</b> Reading tables</a></li>
<li class="chapter" data-level="2.7.2" data-path="chars.html"><a href="chars.html#reading-raw-text"><i class="fa fa-check"></i><b>2.7.2</b> Reading raw text</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basics1.html"><a href="basics1.html"><i class="fa fa-check"></i><b>3</b> Basic Manipulations with <code>"base"</code> Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="basics1.html"><a href="basics1.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="basics1.html"><a href="basics1.html#basic-string-manipulations"><i class="fa fa-check"></i><b>3.2</b> Basic String Manipulations</a><ul>
<li class="chapter" data-level="3.2.1" data-path="basics1.html"><a href="basics1.html#count-number-of-characters-with-nchar"><i class="fa fa-check"></i><b>3.2.1</b> Count number of characters with <code>nchar()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="basics1.html"><a href="basics1.html#convert-to-lower-case-with-tolower"><i class="fa fa-check"></i><b>3.2.2</b> Convert to lower case with <code>tolower()</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="basics1.html"><a href="basics1.html#convert-to-upper-case-with-toupper"><i class="fa fa-check"></i><b>3.2.3</b> Convert to upper case with <code>toupper()</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="basics1.html"><a href="basics1.html#upper-or-lower-case-conversion-with-casefold"><i class="fa fa-check"></i><b>3.2.4</b> Upper or lower case conversion with <code>casefold()</code></a></li>
<li class="chapter" data-level="3.2.5" data-path="basics1.html"><a href="basics1.html#character-translation-with-chartr"><i class="fa fa-check"></i><b>3.2.5</b> Character translation with <code>chartr()</code></a></li>
<li class="chapter" data-level="3.2.6" data-path="basics1.html"><a href="basics1.html#abbreviate-strings-with-abbreviate"><i class="fa fa-check"></i><b>3.2.6</b> Abbreviate strings with <code>abbreviate()</code></a></li>
<li class="chapter" data-level="3.2.7" data-path="basics1.html"><a href="basics1.html#replace-substrings-with-substr"><i class="fa fa-check"></i><b>3.2.7</b> Replace substrings with <code>substr()</code></a></li>
<li class="chapter" data-level="3.2.8" data-path="basics1.html"><a href="basics1.html#replace-substrings-with-substring"><i class="fa fa-check"></i><b>3.2.8</b> Replace substrings with <code>substring()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="basics1.html"><a href="basics1.html#set-operations"><i class="fa fa-check"></i><b>3.3</b> Set Operations</a><ul>
<li class="chapter" data-level="3.3.1" data-path="basics1.html"><a href="basics1.html#set-union-with-union"><i class="fa fa-check"></i><b>3.3.1</b> Set union with <code>union()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="basics1.html"><a href="basics1.html#set-intersection-with-intersect"><i class="fa fa-check"></i><b>3.3.2</b> Set intersection with <code>intersect()</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="basics1.html"><a href="basics1.html#set-difference-with-setdiff"><i class="fa fa-check"></i><b>3.3.3</b> Set difference with <code>setdiff()</code></a></li>
<li class="chapter" data-level="3.3.4" data-path="basics1.html"><a href="basics1.html#set-equality-with-setequal"><i class="fa fa-check"></i><b>3.3.4</b> Set equality with <code>setequal()</code></a></li>
<li class="chapter" data-level="3.3.5" data-path="basics1.html"><a href="basics1.html#exact-equality-with-identical"><i class="fa fa-check"></i><b>3.3.5</b> Exact equality with <code>identical()</code></a></li>
<li class="chapter" data-level="3.3.6" data-path="basics1.html"><a href="basics1.html#element-contained-with-is.element"><i class="fa fa-check"></i><b>3.3.6</b> Element contained with <code>is.element()</code></a></li>
<li class="chapter" data-level="3.3.7" data-path="basics1.html"><a href="basics1.html#sorting-with-sort"><i class="fa fa-check"></i><b>3.3.7</b> Sorting with <code>sort()</code></a></li>
<li class="chapter" data-level="3.3.8" data-path="basics1.html"><a href="basics1.html#repetition-with-pasterep"><i class="fa fa-check"></i><b>3.3.8</b> Repetition with <code>paste(rep())</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basics2.html"><a href="basics2.html"><i class="fa fa-check"></i><b>4</b> Basic Manipulations with <code>"stringr"</code> Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="basics2.html"><a href="basics2.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="basics2.html"><a href="basics2.html#package-stringr"><i class="fa fa-check"></i><b>4.2</b> Package <code>"stringr"</code></a></li>
<li class="chapter" data-level="4.3" data-path="basics2.html"><a href="basics2.html#basic-string-operations"><i class="fa fa-check"></i><b>4.3</b> Basic String Operations</a><ul>
<li class="chapter" data-level="4.3.1" data-path="basics2.html"><a href="basics2.html#concatenating-with-str_c"><i class="fa fa-check"></i><b>4.3.1</b> Concatenating with <code>str_c()</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="basics2.html"><a href="basics2.html#number-of-characters-with-str_length"><i class="fa fa-check"></i><b>4.3.2</b> Number of characters with <code>str_length()</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="basics2.html"><a href="basics2.html#substring-with-str_sub"><i class="fa fa-check"></i><b>4.3.3</b> Substring with <code>str_sub()</code></a></li>
<li class="chapter" data-level="4.3.4" data-path="basics2.html"><a href="basics2.html#duplication-with-str_dup"><i class="fa fa-check"></i><b>4.3.4</b> Duplication with <code>str_dup()</code></a></li>
<li class="chapter" data-level="4.3.5" data-path="basics2.html"><a href="basics2.html#padding-with-str_pad"><i class="fa fa-check"></i><b>4.3.5</b> Padding with <code>str_pad()</code></a></li>
<li class="chapter" data-level="4.3.6" data-path="basics2.html"><a href="basics2.html#wrapping-with-str_wrap"><i class="fa fa-check"></i><b>4.3.6</b> Wrapping with <code>str_wrap()</code></a></li>
<li class="chapter" data-level="4.3.7" data-path="basics2.html"><a href="basics2.html#trimming-with-str_trim"><i class="fa fa-check"></i><b>4.3.7</b> Trimming with <code>str_trim()</code></a></li>
<li class="chapter" data-level="4.3.8" data-path="basics2.html"><a href="basics2.html#word-extraction-with-word"><i class="fa fa-check"></i><b>4.3.8</b> Word extraction with <code>word()</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Printing and Formatting</b></span></li>
<li class="part"><span><b>III Regular Expressions</b></span></li>
<li class="part"><span><b>IV Applications</b></span></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handling Strings With R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics2" class="section level1">
<h1><span class="header-section-number">4</span> Basic Manipulations with <code>"stringr"</code> Functions</h1>
<div id="introduction-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>As we saw in the previous chapters, R provides a useful range of functions for basic string processing and manipulations of <code>"character"</code> data. Most of the times these functions are enough and they will allow us to get our job done. Sometimes, however, they have an awkward behavior.</p>
<p>As an example, consider the function <code>paste()</code>. The default separator is a blank space, which more often than not is what we want to use. But that’s secondary. The really annoying thing is when we want to paste things that include zero length arguments. How does <code>paste()</code> behave in those cases? See below:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="basics2.html#cb95-1"></a><span class="co"># this works fine</span></span>
<span id="cb95-2"><a href="basics2.html#cb95-2"></a><span class="kw">paste</span>(<span class="st">&quot;University&quot;</span>, <span class="st">&quot;of&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Berkeley&quot;</span>)</span>
<span id="cb95-3"><a href="basics2.html#cb95-3"></a><span class="co">#&gt; [1] &quot;University of California Berkeley&quot;</span></span>
<span id="cb95-4"><a href="basics2.html#cb95-4"></a></span>
<span id="cb95-5"><a href="basics2.html#cb95-5"></a><span class="co"># this works fine too</span></span>
<span id="cb95-6"><a href="basics2.html#cb95-6"></a><span class="kw">paste</span>(<span class="st">&quot;University&quot;</span>, <span class="st">&quot;of&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Berkeley&quot;</span>)</span>
<span id="cb95-7"><a href="basics2.html#cb95-7"></a><span class="co">#&gt; [1] &quot;University of California Berkeley&quot;</span></span>
<span id="cb95-8"><a href="basics2.html#cb95-8"></a></span>
<span id="cb95-9"><a href="basics2.html#cb95-9"></a><span class="co"># this is weird</span></span>
<span id="cb95-10"><a href="basics2.html#cb95-10"></a><span class="kw">paste</span>(<span class="st">&quot;University&quot;</span>, <span class="st">&quot;of&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Berkeley&quot;</span>, <span class="ot">NULL</span>)</span>
<span id="cb95-11"><a href="basics2.html#cb95-11"></a><span class="co">#&gt; [1] &quot;University of California Berkeley &quot;</span></span>
<span id="cb95-12"><a href="basics2.html#cb95-12"></a></span>
<span id="cb95-13"><a href="basics2.html#cb95-13"></a><span class="co"># this is ugly</span></span>
<span id="cb95-14"><a href="basics2.html#cb95-14"></a><span class="kw">paste</span>(<span class="st">&quot;University&quot;</span>, <span class="st">&quot;of&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Berkeley&quot;</span>, <span class="ot">NULL</span>, <span class="kw">character</span>(<span class="dv">0</span>), </span>
<span id="cb95-15"><a href="basics2.html#cb95-15"></a>      <span class="st">&quot;Go Bears!&quot;</span>)</span>
<span id="cb95-16"><a href="basics2.html#cb95-16"></a><span class="co">#&gt; [1] &quot;University of California Berkeley   Go Bears!&quot;</span></span></code></pre></div>
<p>Notice the output from the last example (the <em>ugly</em> one). The objects <code>NULL</code>
and <code>character(0)</code> have zero length, yet when included inside <code>paste()</code> they
are treated as an empty string <code>""</code>. Wouldn’t be good if <code>paste()</code> removed
zero length arguments? Sadly, there’s nothing we can do to change <code>nchar()</code> and
<code>paste()</code>. But fear not. There is a very nice package that solves these
problems and provides several functions for carrying out consistent string
processing.</p>
</div>
<div id="package-stringr" class="section level2">
<h2><span class="header-section-number">4.2</span> Package <code>"stringr"</code></h2>
<p>Thanks to Hadley Wickham and company, we have the package <code>"stringr"</code> that adds more
functionality to the base functions for handling strings in R. According to the description of the package</p>
<p><a href="http://cran.r-project.org/web/packages/stringr/index.html" class="uri">http://cran.r-project.org/web/packages/stringr/index.html</a></p>
<blockquote>
<p><code>"stringr"</code> is a set of simple wrappers that make R’s string functions more consistent,
simpler and easier to use. It does this by ensuring that: function and
argument names (and positions) are consistent, all functions deal with NA’s
and zero length character appropriately, and the output data structures from
each function matches the input data structures of other functions."</p>
</blockquote>
<p>To install <code>"stringr"</code> use the function <code>install.packages()</code>. Once installed,
load it to your current session with <code>library()</code>:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="basics2.html#cb96-1"></a><span class="co"># installing &#39;stringr&#39;</span></span>
<span id="cb96-2"><a href="basics2.html#cb96-2"></a><span class="kw">install.packages</span>(<span class="st">&quot;stringr&quot;</span>)</span>
<span id="cb96-3"><a href="basics2.html#cb96-3"></a></span>
<span id="cb96-4"><a href="basics2.html#cb96-4"></a><span class="co"># load &#39;stringr&#39;</span></span>
<span id="cb96-5"><a href="basics2.html#cb96-5"></a><span class="kw">library</span>(stringr)</span></code></pre></div>
</div>
<div id="basic-string-operations" class="section level2">
<h2><span class="header-section-number">4.3</span> Basic String Operations</h2>
<p><code>"stringr"</code> provides functions for both 1) basic manipulations and 2) for
regular expression operations. In this chapter we cover those functions that
have to do with basic manipulations.</p>
<p>The following table contains the <code>"stringr"</code> functions for basic string operations:</p>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
<th align="left">Similar to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>str_c()</code></td>
<td align="left">string concatenation</td>
<td align="left"><code>paste()</code></td>
</tr>
<tr class="even">
<td align="left"><code>str_length()</code></td>
<td align="left">number of characters</td>
<td align="left"><code>nchar()</code></td>
</tr>
<tr class="odd">
<td align="left"><code>str_sub()</code></td>
<td align="left">extracts substrings</td>
<td align="left"><code>substring()</code></td>
</tr>
<tr class="even">
<td align="left"><code>str_dup()</code></td>
<td align="left">duplicates characters</td>
<td align="left"><em>none</em></td>
</tr>
<tr class="odd">
<td align="left"><code>str_trim()</code></td>
<td align="left">removes leading and trailing whitespace</td>
<td align="left"><em>none</em></td>
</tr>
<tr class="even">
<td align="left"><code>str_pad()</code></td>
<td align="left">pads a string</td>
<td align="left"><em>none</em></td>
</tr>
<tr class="odd">
<td align="left"><code>str_wrap()</code></td>
<td align="left">wraps a string paragraph</td>
<td align="left"><code>strwrap()</code></td>
</tr>
<tr class="even">
<td align="left"><code>str_trim()</code></td>
<td align="left">trims a string</td>
<td align="left"><em>none</em></td>
</tr>
</tbody>
</table>
<p>Notice that all functions start with <code>"str_"</code> followed by a term
associated to the task they perform. For example, <code>str_length()</code> gives you the
number (i.e. length) of characters in a string. In addition, some functions are
designed to provide a better alternative to already existing functions. This is
the case of <code>str_length()</code> which is intended to be a substitute of <code>nchar()</code>.
Other functions, however, don’t have a corresponding alternative such as
<code>str_dup()</code> which allows you to duplicate characters.</p>
<div id="concatenating-with-str_c" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Concatenating with <code>str_c()</code></h3>
<p>Let’s begin with <code>str_c()</code>. This function is equivalent to <code>paste()</code> but
instead of using the white space as the default separator, <code>str_c()</code> uses the
empty string <code>""</code> which is a more common separator when <em>pasting</em> strings:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="basics2.html#cb97-1"></a><span class="co"># default usage</span></span>
<span id="cb97-2"><a href="basics2.html#cb97-2"></a><span class="kw">str_c</span>(<span class="st">&quot;May&quot;</span>, <span class="st">&quot;The&quot;</span>, <span class="st">&quot;Force&quot;</span>, <span class="st">&quot;Be&quot;</span>, <span class="st">&quot;With&quot;</span>, <span class="st">&quot;You&quot;</span>)</span>
<span id="cb97-3"><a href="basics2.html#cb97-3"></a><span class="co">#&gt; [1] &quot;MayTheForceBeWithYou&quot;</span></span>
<span id="cb97-4"><a href="basics2.html#cb97-4"></a></span>
<span id="cb97-5"><a href="basics2.html#cb97-5"></a><span class="co"># removing zero length objects</span></span>
<span id="cb97-6"><a href="basics2.html#cb97-6"></a><span class="kw">str_c</span>(<span class="st">&quot;May&quot;</span>, <span class="st">&quot;The&quot;</span>, <span class="st">&quot;Force&quot;</span>, <span class="ot">NULL</span>, <span class="st">&quot;Be&quot;</span>, <span class="st">&quot;With&quot;</span>, <span class="st">&quot;You&quot;</span>, <span class="kw">character</span>(<span class="dv">0</span>))</span>
<span id="cb97-7"><a href="basics2.html#cb97-7"></a><span class="co">#&gt; [1] &quot;MayTheForceBeWithYou&quot;</span></span></code></pre></div>
<p>Observe another major difference between <code>str_c()</code> and <code>paste()</code>: zero length
arguments like <code>NULL</code> and <code>character(0)</code> are silently removed by <code>str_c()</code>.</p>
<p>If you want to change the default separator, you can do that as usual by
specifying the argument <code>sep</code>:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="basics2.html#cb98-1"></a><span class="co"># changing separator</span></span>
<span id="cb98-2"><a href="basics2.html#cb98-2"></a><span class="kw">str_c</span>(<span class="st">&quot;May&quot;</span>, <span class="st">&quot;The&quot;</span>, <span class="st">&quot;Force&quot;</span>, <span class="st">&quot;Be&quot;</span>, <span class="st">&quot;With&quot;</span>, <span class="st">&quot;You&quot;</span>, <span class="dt">.sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb98-3"><a href="basics2.html#cb98-3"></a><span class="co">#&gt; [1] &quot;MayTheForceBeWithYou_&quot;</span></span>
<span id="cb98-4"><a href="basics2.html#cb98-4"></a></span>
<span id="cb98-5"><a href="basics2.html#cb98-5"></a><span class="co"># synonym function &#39;str_glue&#39;</span></span>
<span id="cb98-6"><a href="basics2.html#cb98-6"></a><span class="kw">str_glue</span>(<span class="st">&quot;May&quot;</span>, <span class="st">&quot;The&quot;</span>, <span class="st">&quot;Force&quot;</span>, <span class="st">&quot;Be&quot;</span>, <span class="st">&quot;With&quot;</span>, <span class="st">&quot;You&quot;</span>, <span class="dt">.sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb98-7"><a href="basics2.html#cb98-7"></a><span class="co">#&gt; May_The_Force_Be_With_You</span></span></code></pre></div>
<p>As you can see from the previous examples, an alternative for <code>str _()</code> is <code>str_glue()</code> with the argument <code>.sep</code>.</p>
</div>
<div id="number-of-characters-with-str_length" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Number of characters with <code>str_length()</code></h3>
<p>As we’ve mentioned before, the function <code>str_length()</code> is equivalent to
<code>nchar()</code>. Both functions return the number of characters in a string, that is,
the <em>length</em> of a string (do not confuse it with the <code>length()</code> of a vector).
Compared to <code>nchar()</code>, <code>str_length()</code> has a more consistent behavior when
dealing with <code>NA</code> values. Instead of giving <code>NA</code> a length of 2, <code>str_length()</code>
preserves missing values just as <code>NA</code>s.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="basics2.html#cb99-1"></a><span class="co"># some text (NA included)</span></span>
<span id="cb99-2"><a href="basics2.html#cb99-2"></a>some_text &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;five&quot;</span>)</span>
<span id="cb99-3"><a href="basics2.html#cb99-3"></a></span>
<span id="cb99-4"><a href="basics2.html#cb99-4"></a><span class="co"># compare &#39;str_length&#39; with &#39;nchar&#39;</span></span>
<span id="cb99-5"><a href="basics2.html#cb99-5"></a><span class="kw">nchar</span>(some_text)</span>
<span id="cb99-6"><a href="basics2.html#cb99-6"></a><span class="co">#&gt; [1]  3  3  5 NA  4</span></span>
<span id="cb99-7"><a href="basics2.html#cb99-7"></a><span class="kw">str_length</span>(some_text)</span>
<span id="cb99-8"><a href="basics2.html#cb99-8"></a><span class="co">#&gt; [1]  3  3  5 NA  4</span></span></code></pre></div>
<p>In addition, <code>str_length()</code> has the nice feature that it converts factors to
characters, something that <code>nchar()</code> is not able to handle:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="basics2.html#cb100-1"></a>some_factor &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;good&quot;</span>, <span class="st">&quot;bad&quot;</span>))</span>
<span id="cb100-2"><a href="basics2.html#cb100-2"></a>some_factor</span>
<span id="cb100-3"><a href="basics2.html#cb100-3"></a><span class="co">#&gt; [1] good good good bad  bad  bad </span></span>
<span id="cb100-4"><a href="basics2.html#cb100-4"></a><span class="co">#&gt; Levels: good bad</span></span>
<span id="cb100-5"><a href="basics2.html#cb100-5"></a></span>
<span id="cb100-6"><a href="basics2.html#cb100-6"></a><span class="co"># try &#39;nchar&#39; on a factor</span></span>
<span id="cb100-7"><a href="basics2.html#cb100-7"></a><span class="kw">nchar</span>(some_factor)</span>
<span id="cb100-8"><a href="basics2.html#cb100-8"></a><span class="co">#&gt; Error in nchar(some_factor): &#39;nchar()&#39; requires a character vector</span></span>
<span id="cb100-9"><a href="basics2.html#cb100-9"></a></span>
<span id="cb100-10"><a href="basics2.html#cb100-10"></a><span class="co"># now compare it with &#39;str_length&#39;</span></span>
<span id="cb100-11"><a href="basics2.html#cb100-11"></a><span class="kw">str_length</span>(some_factor)</span>
<span id="cb100-12"><a href="basics2.html#cb100-12"></a><span class="co">#&gt; [1] 4 4 4 3 3 3</span></span></code></pre></div>
</div>
<div id="substring-with-str_sub" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Substring with <code>str_sub()</code></h3>
<p>To extract substrings from a character vector <code>stringr</code> provides <code>str_sub()</code>
which is equivalent to <code>substring()</code>. The function <code>str_sub()</code> has the
following usage form:</p>
<pre><code>str_sub(string, start = 1L, end = -1L)</code></pre>
<p>The three arguments in the function are: a <code>string</code> vector, a <code>start</code> value
indicating the position of the first character in substring, and an <code>end</code> value
indicating the position of the last character. Here’s a simple example with a
single string in which characters from 1 to 5 are extracted:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="basics2.html#cb102-1"></a>lorem &lt;-<span class="st"> &quot;Lorem Ipsum&quot;</span></span>
<span id="cb102-2"><a href="basics2.html#cb102-2"></a></span>
<span id="cb102-3"><a href="basics2.html#cb102-3"></a><span class="co"># apply &#39;str_sub&#39;</span></span>
<span id="cb102-4"><a href="basics2.html#cb102-4"></a><span class="kw">str_sub</span>(lorem, <span class="dt">start =</span> <span class="dv">1</span>, <span class="dt">end =</span> <span class="dv">5</span>)</span>
<span id="cb102-5"><a href="basics2.html#cb102-5"></a><span class="co">#&gt; [1] &quot;Lorem&quot;</span></span>
<span id="cb102-6"><a href="basics2.html#cb102-6"></a></span>
<span id="cb102-7"><a href="basics2.html#cb102-7"></a><span class="co"># equivalent to &#39;substring&#39;</span></span>
<span id="cb102-8"><a href="basics2.html#cb102-8"></a><span class="kw">substring</span>(lorem, <span class="dt">first =</span> <span class="dv">1</span>, <span class="dt">last =</span> <span class="dv">5</span>)</span>
<span id="cb102-9"><a href="basics2.html#cb102-9"></a><span class="co">#&gt; [1] &quot;Lorem&quot;</span></span>
<span id="cb102-10"><a href="basics2.html#cb102-10"></a></span>
<span id="cb102-11"><a href="basics2.html#cb102-11"></a><span class="co"># another example</span></span>
<span id="cb102-12"><a href="basics2.html#cb102-12"></a><span class="kw">str_sub</span>(<span class="st">&quot;adios&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb102-13"><a href="basics2.html#cb102-13"></a><span class="co">#&gt; [1] &quot;adios&quot; &quot;dios&quot;  &quot;ios&quot;</span></span></code></pre></div>
<p>An interesting feature of <code>str_sub()</code> is its ability to work with negative
indices in the <code>start</code> and <code>end</code> positions. When we use a negative position, <code>str_sub()</code> counts backwards from last character:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="basics2.html#cb103-1"></a>resto =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;brasserie&quot;</span>, <span class="st">&quot;bistrot&quot;</span>, <span class="st">&quot;creperie&quot;</span>, <span class="st">&quot;bouchon&quot;</span>)</span>
<span id="cb103-2"><a href="basics2.html#cb103-2"></a></span>
<span id="cb103-3"><a href="basics2.html#cb103-3"></a><span class="co"># &#39;str_sub&#39; with negative positions</span></span>
<span id="cb103-4"><a href="basics2.html#cb103-4"></a><span class="kw">str_sub</span>(resto, <span class="dt">start =</span> <span class="dv">-4</span>, <span class="dt">end =</span> <span class="dv">-1</span>)</span>
<span id="cb103-5"><a href="basics2.html#cb103-5"></a><span class="co">#&gt; [1] &quot;erie&quot; &quot;trot&quot; &quot;erie&quot; &quot;chon&quot;</span></span>
<span id="cb103-6"><a href="basics2.html#cb103-6"></a></span>
<span id="cb103-7"><a href="basics2.html#cb103-7"></a><span class="co"># compared to substring (useless)</span></span>
<span id="cb103-8"><a href="basics2.html#cb103-8"></a><span class="kw">substring</span>(resto, <span class="dt">first =</span> <span class="dv">-4</span>, <span class="dt">last =</span> <span class="dv">-1</span>)</span>
<span id="cb103-9"><a href="basics2.html#cb103-9"></a><span class="co">#&gt; [1] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot;</span></span></code></pre></div>
<p>Similar to <code>substring()</code>, we can also give <code>str_sub()</code> a set of positions which
will be recycled over the string. But even better, we can give <code>str_sub()</code>
a negative sequence, something that <code>substring()</code> ignores:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="basics2.html#cb104-1"></a><span class="co"># extracting sequentially</span></span>
<span id="cb104-2"><a href="basics2.html#cb104-2"></a><span class="kw">str_sub</span>(lorem, <span class="kw">seq_len</span>(<span class="kw">nchar</span>(lorem)))</span>
<span id="cb104-3"><a href="basics2.html#cb104-3"></a><span class="co">#&gt;  [1] &quot;Lorem Ipsum&quot; &quot;orem Ipsum&quot;  &quot;rem Ipsum&quot;   &quot;em Ipsum&quot;    &quot;m Ipsum&quot;    </span></span>
<span id="cb104-4"><a href="basics2.html#cb104-4"></a><span class="co">#&gt;  [6] &quot; Ipsum&quot;      &quot;Ipsum&quot;       &quot;psum&quot;        &quot;sum&quot;         &quot;um&quot;         </span></span>
<span id="cb104-5"><a href="basics2.html#cb104-5"></a><span class="co">#&gt; [11] &quot;m&quot;</span></span>
<span id="cb104-6"><a href="basics2.html#cb104-6"></a><span class="kw">substring</span>(lorem, <span class="kw">seq_len</span>(<span class="kw">nchar</span>(lorem)))</span>
<span id="cb104-7"><a href="basics2.html#cb104-7"></a><span class="co">#&gt;  [1] &quot;Lorem Ipsum&quot; &quot;orem Ipsum&quot;  &quot;rem Ipsum&quot;   &quot;em Ipsum&quot;    &quot;m Ipsum&quot;    </span></span>
<span id="cb104-8"><a href="basics2.html#cb104-8"></a><span class="co">#&gt;  [6] &quot; Ipsum&quot;      &quot;Ipsum&quot;       &quot;psum&quot;        &quot;sum&quot;         &quot;um&quot;         </span></span>
<span id="cb104-9"><a href="basics2.html#cb104-9"></a><span class="co">#&gt; [11] &quot;m&quot;</span></span>
<span id="cb104-10"><a href="basics2.html#cb104-10"></a></span>
<span id="cb104-11"><a href="basics2.html#cb104-11"></a><span class="co"># reverse substrings with negative positions</span></span>
<span id="cb104-12"><a href="basics2.html#cb104-12"></a><span class="kw">str_sub</span>(lorem, <span class="op">-</span><span class="kw">seq_len</span>(<span class="kw">nchar</span>(lorem)))</span>
<span id="cb104-13"><a href="basics2.html#cb104-13"></a><span class="co">#&gt;  [1] &quot;m&quot;           &quot;um&quot;          &quot;sum&quot;         &quot;psum&quot;        &quot;Ipsum&quot;      </span></span>
<span id="cb104-14"><a href="basics2.html#cb104-14"></a><span class="co">#&gt;  [6] &quot; Ipsum&quot;      &quot;m Ipsum&quot;     &quot;em Ipsum&quot;    &quot;rem Ipsum&quot;   &quot;orem Ipsum&quot; </span></span>
<span id="cb104-15"><a href="basics2.html#cb104-15"></a><span class="co">#&gt; [11] &quot;Lorem Ipsum&quot;</span></span>
<span id="cb104-16"><a href="basics2.html#cb104-16"></a><span class="kw">substring</span>(lorem, <span class="op">-</span><span class="kw">seq_len</span>(<span class="kw">nchar</span>(lorem)))</span>
<span id="cb104-17"><a href="basics2.html#cb104-17"></a><span class="co">#&gt;  [1] &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot;</span></span>
<span id="cb104-18"><a href="basics2.html#cb104-18"></a><span class="co">#&gt;  [6] &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot; &quot;Lorem Ipsum&quot;</span></span>
<span id="cb104-19"><a href="basics2.html#cb104-19"></a><span class="co">#&gt; [11] &quot;Lorem Ipsum&quot;</span></span></code></pre></div>
<p>We can use <code>str_sub()</code> not only for extracting subtrings but also for replacing
substrings:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="basics2.html#cb105-1"></a><span class="co"># replacing &#39;Lorem&#39; with &#39;Nullam&#39;</span></span>
<span id="cb105-2"><a href="basics2.html#cb105-2"></a>lorem &lt;-<span class="st"> &quot;Lorem Ipsum&quot;</span></span>
<span id="cb105-3"><a href="basics2.html#cb105-3"></a><span class="kw">str_sub</span>(lorem, <span class="dv">1</span>, <span class="dv">5</span>) &lt;-<span class="st"> &quot;Nullam&quot;</span></span>
<span id="cb105-4"><a href="basics2.html#cb105-4"></a>lorem</span>
<span id="cb105-5"><a href="basics2.html#cb105-5"></a><span class="co">#&gt; [1] &quot;Nullam Ipsum&quot;</span></span>
<span id="cb105-6"><a href="basics2.html#cb105-6"></a></span>
<span id="cb105-7"><a href="basics2.html#cb105-7"></a><span class="co"># replacing with negative positions</span></span>
<span id="cb105-8"><a href="basics2.html#cb105-8"></a>lorem &lt;-<span class="st"> &quot;Lorem Ipsum&quot;</span></span>
<span id="cb105-9"><a href="basics2.html#cb105-9"></a><span class="kw">str_sub</span>(lorem, <span class="dv">-1</span>) &lt;-<span class="st"> &quot;Nullam&quot;</span></span>
<span id="cb105-10"><a href="basics2.html#cb105-10"></a>lorem</span>
<span id="cb105-11"><a href="basics2.html#cb105-11"></a><span class="co">#&gt; [1] &quot;Lorem IpsuNullam&quot;</span></span>
<span id="cb105-12"><a href="basics2.html#cb105-12"></a></span>
<span id="cb105-13"><a href="basics2.html#cb105-13"></a><span class="co"># multiple replacements </span></span>
<span id="cb105-14"><a href="basics2.html#cb105-14"></a>lorem &lt;-<span class="st"> &quot;Lorem Ipsum&quot;</span></span>
<span id="cb105-15"><a href="basics2.html#cb105-15"></a><span class="kw">str_sub</span>(lorem, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>), <span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">8</span>)) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Nullam&quot;</span>, <span class="st">&quot;Enim&quot;</span>)</span>
<span id="cb105-16"><a href="basics2.html#cb105-16"></a>lorem</span>
<span id="cb105-17"><a href="basics2.html#cb105-17"></a><span class="co">#&gt; [1] &quot;Nullam Ipsum&quot;  &quot;Lorem Enimsum&quot;</span></span></code></pre></div>
</div>
<div id="duplication-with-str_dup" class="section level3">
<h3><span class="header-section-number">4.3.4</span> Duplication with <code>str_dup()</code></h3>
<p>A common operation when handling characters is <em>duplication</em>. The problem is
that R doesn’t have a specific function for that purpose. But <code>stringr</code> does: <code>str_dup()</code> duplicates and concatenates strings within a character vector.
Its usage requires two arguments:</p>
<pre><code>str_dup(string, times)</code></pre>
<p>The first input is the <code>string</code> that you want to dplicate. The second input,
<code>times</code>, is the number of times to duplicate each string:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="basics2.html#cb107-1"></a><span class="co"># default usage</span></span>
<span id="cb107-2"><a href="basics2.html#cb107-2"></a><span class="kw">str_dup</span>(<span class="st">&quot;hola&quot;</span>, <span class="dv">3</span>)</span>
<span id="cb107-3"><a href="basics2.html#cb107-3"></a><span class="co">#&gt; [1] &quot;holaholahola&quot;</span></span>
<span id="cb107-4"><a href="basics2.html#cb107-4"></a></span>
<span id="cb107-5"><a href="basics2.html#cb107-5"></a><span class="co"># use with differetn &#39;times&#39;</span></span>
<span id="cb107-6"><a href="basics2.html#cb107-6"></a><span class="kw">str_dup</span>(<span class="st">&quot;adios&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb107-7"><a href="basics2.html#cb107-7"></a><span class="co">#&gt; [1] &quot;adios&quot;           &quot;adiosadios&quot;      &quot;adiosadiosadios&quot;</span></span>
<span id="cb107-8"><a href="basics2.html#cb107-8"></a></span>
<span id="cb107-9"><a href="basics2.html#cb107-9"></a><span class="co"># use with a string vector</span></span>
<span id="cb107-10"><a href="basics2.html#cb107-10"></a>words &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;lorem&quot;</span>, <span class="st">&quot;ipsum&quot;</span>, <span class="st">&quot;dolor&quot;</span>, <span class="st">&quot;sit&quot;</span>, <span class="st">&quot;amet&quot;</span>)</span>
<span id="cb107-11"><a href="basics2.html#cb107-11"></a><span class="kw">str_dup</span>(words, <span class="dv">2</span>)</span>
<span id="cb107-12"><a href="basics2.html#cb107-12"></a><span class="co">#&gt; [1] &quot;loremlorem&quot; &quot;ipsumipsum&quot; &quot;dolordolor&quot; &quot;sitsit&quot;     &quot;ametamet&quot;</span></span>
<span id="cb107-13"><a href="basics2.html#cb107-13"></a></span>
<span id="cb107-14"><a href="basics2.html#cb107-14"></a><span class="kw">str_dup</span>(words, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb107-15"><a href="basics2.html#cb107-15"></a><span class="co">#&gt; [1] &quot;lorem&quot;                &quot;ipsumipsum&quot;           &quot;dolordolordolor&quot;     </span></span>
<span id="cb107-16"><a href="basics2.html#cb107-16"></a><span class="co">#&gt; [4] &quot;sitsitsitsit&quot;         &quot;ametametametametamet&quot;</span></span></code></pre></div>
</div>
<div id="padding-with-str_pad" class="section level3">
<h3><span class="header-section-number">4.3.5</span> Padding with <code>str_pad()</code></h3>
<p>Another handy function that we can find in <code>stringr</code> is <code>str_pad()</code> for
<em>padding</em> a string. Its default usage has the following form:</p>
<pre><code>str_pad(string, width, side = &quot;left&quot;, pad = &quot; &quot;)</code></pre>
<p>The idea of <code>str_pad()</code> is to take a string and pad it with leading or trailing
characters to a specified total <code>width</code>. The default padding character is a
space (<code>pad = " "</code>), and consequently the returned string will appear to be
either left-aligned (<code>side = "left"</code>), right-aligned (<code>side = "right"</code>), or
both (<code>side = "both"</code>).</p>
<p>Let’s see some examples:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="basics2.html#cb109-1"></a><span class="co"># default usage</span></span>
<span id="cb109-2"><a href="basics2.html#cb109-2"></a><span class="kw">str_pad</span>(<span class="st">&quot;hola&quot;</span>, <span class="dt">width =</span> <span class="dv">7</span>)</span>
<span id="cb109-3"><a href="basics2.html#cb109-3"></a><span class="co">#&gt; [1] &quot;   hola&quot;</span></span>
<span id="cb109-4"><a href="basics2.html#cb109-4"></a></span>
<span id="cb109-5"><a href="basics2.html#cb109-5"></a><span class="co"># pad both sides</span></span>
<span id="cb109-6"><a href="basics2.html#cb109-6"></a><span class="kw">str_pad</span>(<span class="st">&quot;adios&quot;</span>, <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">side =</span> <span class="st">&quot;both&quot;</span>)</span>
<span id="cb109-7"><a href="basics2.html#cb109-7"></a><span class="co">#&gt; [1] &quot; adios &quot;</span></span>
<span id="cb109-8"><a href="basics2.html#cb109-8"></a></span>
<span id="cb109-9"><a href="basics2.html#cb109-9"></a><span class="co"># left padding with &#39;#&#39;</span></span>
<span id="cb109-10"><a href="basics2.html#cb109-10"></a><span class="kw">str_pad</span>(<span class="st">&quot;hashtag&quot;</span>, <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">pad =</span> <span class="st">&quot;#&quot;</span>)</span>
<span id="cb109-11"><a href="basics2.html#cb109-11"></a><span class="co">#&gt; [1] &quot;#hashtag&quot;</span></span>
<span id="cb109-12"><a href="basics2.html#cb109-12"></a></span>
<span id="cb109-13"><a href="basics2.html#cb109-13"></a><span class="co"># pad both sides with &#39;-&#39;</span></span>
<span id="cb109-14"><a href="basics2.html#cb109-14"></a><span class="kw">str_pad</span>(<span class="st">&quot;hashtag&quot;</span>, <span class="dt">width =</span> <span class="dv">9</span>, <span class="dt">side =</span> <span class="st">&quot;both&quot;</span>, <span class="dt">pad =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb109-15"><a href="basics2.html#cb109-15"></a><span class="co">#&gt; [1] &quot;-hashtag-&quot;</span></span></code></pre></div>
</div>
<div id="wrapping-with-str_wrap" class="section level3">
<h3><span class="header-section-number">4.3.6</span> Wrapping with <code>str_wrap()</code></h3>
<p>The function <code>str_wrap()</code> is equivalent to <code>strwrap()</code> which can be used to
<em>wrap</em> a string to format paragraphs. The idea of wrapping a (long) string is
to first split it into paragraphs according to the given <code>width</code>, and then add
the specified indentation in each line (first line with <code>indent</code>, following
lines with <code>exdent</code>). Its default usage has the following form:</p>
<pre><code>str_wrap(string, width = 80, indent = 0, exdent = 0)</code></pre>
<p>For instance, consider the following quote (from Douglas Adams) converted into
a paragraph:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="basics2.html#cb111-1"></a><span class="co"># quote (by Douglas Adams)</span></span>
<span id="cb111-2"><a href="basics2.html#cb111-2"></a>some_quote &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb111-3"><a href="basics2.html#cb111-3"></a>  <span class="st">&quot;I may not have gone&quot;</span>,</span>
<span id="cb111-4"><a href="basics2.html#cb111-4"></a>  <span class="st">&quot;where I intended to go,&quot;</span>, </span>
<span id="cb111-5"><a href="basics2.html#cb111-5"></a>  <span class="st">&quot;but I think I have ended up&quot;</span>,</span>
<span id="cb111-6"><a href="basics2.html#cb111-6"></a>  <span class="st">&quot;where I needed to be&quot;</span>)</span>
<span id="cb111-7"><a href="basics2.html#cb111-7"></a></span>
<span id="cb111-8"><a href="basics2.html#cb111-8"></a><span class="co"># some_quote in a single paragraph</span></span>
<span id="cb111-9"><a href="basics2.html#cb111-9"></a>some_quote &lt;-<span class="st"> </span><span class="kw">paste</span>(some_quote, <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<p>Now, say you want to display the text of <code>some_quote</code> within some pre-specified
column width (e.g. width of 30). You can achieve this by applying <code>str_wrap()</code>
and setting the argument <code>width = 30</code></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="basics2.html#cb112-1"></a><span class="co"># display paragraph with width=30</span></span>
<span id="cb112-2"><a href="basics2.html#cb112-2"></a><span class="kw">cat</span>(<span class="kw">str_wrap</span>(some_quote, <span class="dt">width =</span> <span class="dv">30</span>))</span>
<span id="cb112-3"><a href="basics2.html#cb112-3"></a><span class="co">#&gt; I may not have gone where I</span></span>
<span id="cb112-4"><a href="basics2.html#cb112-4"></a><span class="co">#&gt; intended to go, but I think I</span></span>
<span id="cb112-5"><a href="basics2.html#cb112-5"></a><span class="co">#&gt; have ended up where I needed</span></span>
<span id="cb112-6"><a href="basics2.html#cb112-6"></a><span class="co">#&gt; to be</span></span></code></pre></div>
<p>Besides displaying a (long) paragraph into several lines, you may also wish to
add some indentation. Here’s how you can indent the first line, as well as the
following lines:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="basics2.html#cb113-1"></a><span class="co"># display paragraph with first line indentation of 2</span></span>
<span id="cb113-2"><a href="basics2.html#cb113-2"></a><span class="kw">cat</span>(<span class="kw">str_wrap</span>(some_quote, <span class="dt">width =</span> <span class="dv">30</span>, <span class="dt">indent =</span> <span class="dv">2</span>), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb113-3"><a href="basics2.html#cb113-3"></a><span class="co">#&gt;   I may not have gone where I</span></span>
<span id="cb113-4"><a href="basics2.html#cb113-4"></a><span class="co">#&gt; intended to go, but I think I</span></span>
<span id="cb113-5"><a href="basics2.html#cb113-5"></a><span class="co">#&gt; have ended up where I needed</span></span>
<span id="cb113-6"><a href="basics2.html#cb113-6"></a><span class="co">#&gt; to be</span></span>
<span id="cb113-7"><a href="basics2.html#cb113-7"></a></span>
<span id="cb113-8"><a href="basics2.html#cb113-8"></a><span class="co"># display paragraph with following lines indentation of 3</span></span>
<span id="cb113-9"><a href="basics2.html#cb113-9"></a><span class="kw">cat</span>(<span class="kw">str_wrap</span>(some_quote, <span class="dt">width =</span> <span class="dv">30</span>, <span class="dt">exdent =</span> <span class="dv">3</span>), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb113-10"><a href="basics2.html#cb113-10"></a><span class="co">#&gt; I may not have gone where I</span></span>
<span id="cb113-11"><a href="basics2.html#cb113-11"></a><span class="co">#&gt;    intended to go, but I think I</span></span>
<span id="cb113-12"><a href="basics2.html#cb113-12"></a><span class="co">#&gt;    have ended up where I needed</span></span>
<span id="cb113-13"><a href="basics2.html#cb113-13"></a><span class="co">#&gt;    to be</span></span></code></pre></div>
</div>
<div id="trimming-with-str_trim" class="section level3">
<h3><span class="header-section-number">4.3.7</span> Trimming with <code>str_trim()</code></h3>
<p>One of the typical tasks of string processing is that of parsing a text into
individual words. Usually, you end up with words that have blank spaces, called <em>whitespaces</em>, on either end of the word. In this situation, you can use the
<code>str_trim()</code> function to remove any number of whitespaces at the ends of a
string. Its usage requires only two arguments:</p>
<pre><code>str_trim(string, side = &quot;both&quot;)</code></pre>
<p>The first input is the <code>string</code> to be strimmed, and the second input indicates
the <code>side</code> on which the whitespace will be removed.</p>
<p>Consider the following vector of strings, some of which have whitespaces either
on the left, on the right, or on both sides. Here’s what <code>str_trim()</code> would do
to them under different settings of <code>side</code></p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="basics2.html#cb115-1"></a><span class="co"># text with whitespaces</span></span>
<span id="cb115-2"><a href="basics2.html#cb115-2"></a>bad_text &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;This&quot;</span>, <span class="st">&quot; example &quot;</span>, <span class="st">&quot;has several   &quot;</span>, <span class="st">&quot;   whitespaces &quot;</span>)</span>
<span id="cb115-3"><a href="basics2.html#cb115-3"></a></span>
<span id="cb115-4"><a href="basics2.html#cb115-4"></a><span class="co"># remove whitespaces on the left side</span></span>
<span id="cb115-5"><a href="basics2.html#cb115-5"></a><span class="kw">str_trim</span>(bad_text, <span class="dt">side =</span> <span class="st">&quot;left&quot;</span>)</span>
<span id="cb115-6"><a href="basics2.html#cb115-6"></a><span class="co">#&gt; [1] &quot;This&quot;           &quot;example &quot;       &quot;has several   &quot; &quot;whitespaces &quot;</span></span>
<span id="cb115-7"><a href="basics2.html#cb115-7"></a></span>
<span id="cb115-8"><a href="basics2.html#cb115-8"></a><span class="co"># remove whitespaces on the right side</span></span>
<span id="cb115-9"><a href="basics2.html#cb115-9"></a><span class="kw">str_trim</span>(bad_text, <span class="dt">side =</span> <span class="st">&quot;right&quot;</span>)</span>
<span id="cb115-10"><a href="basics2.html#cb115-10"></a><span class="co">#&gt; [1] &quot;This&quot;           &quot; example&quot;       &quot;has several&quot;    &quot;   whitespaces&quot;</span></span>
<span id="cb115-11"><a href="basics2.html#cb115-11"></a></span>
<span id="cb115-12"><a href="basics2.html#cb115-12"></a><span class="co"># remove whitespaces on both sides</span></span>
<span id="cb115-13"><a href="basics2.html#cb115-13"></a><span class="kw">str_trim</span>(bad_text, <span class="dt">side =</span> <span class="st">&quot;both&quot;</span>)</span>
<span id="cb115-14"><a href="basics2.html#cb115-14"></a><span class="co">#&gt; [1] &quot;This&quot;        &quot;example&quot;     &quot;has several&quot; &quot;whitespaces&quot;</span></span></code></pre></div>
</div>
<div id="word-extraction-with-word" class="section level3">
<h3><span class="header-section-number">4.3.8</span> Word extraction with <code>word()</code></h3>
<p>We end this chapter describing the <code>word()</code> function that is designed to
extract words from a sentence:</p>
<pre><code>word(string, start = 1L, end = start, sep = fixed(&quot; &quot;))</code></pre>
<p>The way in which you use <code>word()</code> is by passing it a <code>string</code>, together with a
<code>start</code> position of the first word to extract, and an <code>end</code> position of the
last word to extract. By default, the separator <code>sep</code> used between words is a
single space.</p>
<p>Let’s see some examples:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="basics2.html#cb117-1"></a><span class="co"># some sentence</span></span>
<span id="cb117-2"><a href="basics2.html#cb117-2"></a>change &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Be the change&quot;</span>, <span class="st">&quot;you want to be&quot;</span>)</span>
<span id="cb117-3"><a href="basics2.html#cb117-3"></a></span>
<span id="cb117-4"><a href="basics2.html#cb117-4"></a><span class="co"># extract first word</span></span>
<span id="cb117-5"><a href="basics2.html#cb117-5"></a><span class="kw">word</span>(change, <span class="dv">1</span>)</span>
<span id="cb117-6"><a href="basics2.html#cb117-6"></a><span class="co">#&gt; [1] &quot;Be&quot;  &quot;you&quot;</span></span>
<span id="cb117-7"><a href="basics2.html#cb117-7"></a></span>
<span id="cb117-8"><a href="basics2.html#cb117-8"></a><span class="co"># extract second word</span></span>
<span id="cb117-9"><a href="basics2.html#cb117-9"></a><span class="kw">word</span>(change, <span class="dv">2</span>)</span>
<span id="cb117-10"><a href="basics2.html#cb117-10"></a><span class="co">#&gt; [1] &quot;the&quot;  &quot;want&quot;</span></span>
<span id="cb117-11"><a href="basics2.html#cb117-11"></a></span>
<span id="cb117-12"><a href="basics2.html#cb117-12"></a><span class="co"># extract last word</span></span>
<span id="cb117-13"><a href="basics2.html#cb117-13"></a><span class="kw">word</span>(change, <span class="dv">-1</span>)</span>
<span id="cb117-14"><a href="basics2.html#cb117-14"></a><span class="co">#&gt; [1] &quot;change&quot; &quot;be&quot;</span></span>
<span id="cb117-15"><a href="basics2.html#cb117-15"></a></span>
<span id="cb117-16"><a href="basics2.html#cb117-16"></a><span class="co"># extract all but the first words</span></span>
<span id="cb117-17"><a href="basics2.html#cb117-17"></a><span class="kw">word</span>(change, <span class="dv">2</span>, <span class="dv">-1</span>)</span>
<span id="cb117-18"><a href="basics2.html#cb117-18"></a><span class="co">#&gt; [1] &quot;the change&quot; &quot;want to be&quot;</span></span></code></pre></div>
<p><code>"stringr"</code> has more functions but we’ll discuss them in the chapters about
<a href="#regex1">regular expressions</a>.</p>

</div>
</div>
</div>









</div>
            </section>

          </div>
        </div>
      </div>
<a href="basics1.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/gastonstat/r4strings/edit/master/04-stringr-basics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
