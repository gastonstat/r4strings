<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15 Boundaries and Look Arounds | Handling Strings with R</title>
  <meta name="description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="15 Boundaries and Look Arounds | Handling Strings with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://gastonsanchez.com/r4strings/" />
  
  <meta property="og:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="github-repo" content="gastonstat/r4strings" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15 Boundaries and Look Arounds | Handling Strings with R" />
  
  <meta name="twitter:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  

<meta name="author" content="Gaston Sanchez with contributions from Chitra Venkatesh" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="quantifiers.html"/>
<link rel="next" href="applications.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handling Strings with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#give-now"><i class="fa fa-check"></i>Give Now</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-this-book"><i class="fa fa-check"></i><b>1.1</b> About this book</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#structure-of-the-book"><i class="fa fa-check"></i><b>1.1.1</b> Structure of the book</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#main-resources"><i class="fa fa-check"></i><b>1.1.2</b> Main Resources</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#acknowledgements"><i class="fa fa-check"></i><b>1.1.3</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.1.4" data-path="intro.html"><a href="intro.html#colophon"><i class="fa fa-check"></i><b>1.1.4</b> Colophon</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Characters</b></span></li>
<li class="chapter" data-level="2" data-path="chars.html"><a href="chars.html"><i class="fa fa-check"></i><b>2</b> Character Strings in R</a><ul>
<li class="chapter" data-level="2.1" data-path="chars.html"><a href="chars.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="chars.html"><a href="chars.html#common-use-of-strings-in-r"><i class="fa fa-check"></i><b>2.2</b> Common use of strings in R</a></li>
<li class="chapter" data-level="2.3" data-path="chars.html"><a href="chars.html#creating-character-strings"><i class="fa fa-check"></i><b>2.3</b> Creating Character Strings</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chars.html"><a href="chars.html#empty-string"><i class="fa fa-check"></i><b>2.3.1</b> Empty string</a></li>
<li class="chapter" data-level="2.3.2" data-path="chars.html"><a href="chars.html#empty-character-vector"><i class="fa fa-check"></i><b>2.3.2</b> Empty character vector</a></li>
<li class="chapter" data-level="2.3.3" data-path="chars.html"><a href="chars.html#function-c"><i class="fa fa-check"></i><b>2.3.3</b> Function <code>c()</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="chars.html"><a href="chars.html#is.character-and-as.character"><i class="fa fa-check"></i><b>2.3.4</b> <code>is.character()</code> and <code>as.character()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chars.html"><a href="chars.html#behavior-of-r-objects-with-character-strings"><i class="fa fa-check"></i><b>2.4</b> Behavior of R objects with character strings</a></li>
<li class="chapter" data-level="2.5" data-path="chars.html"><a href="chars.html#the-workhorse-function-paste"><i class="fa fa-check"></i><b>2.5</b> The workhorse function <code>paste()</code></a></li>
<li class="chapter" data-level="2.6" data-path="chars.html"><a href="chars.html#exercises"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Formatting</b></span></li>
<li class="chapter" data-level="3" data-path="formatting.html"><a href="formatting.html"><i class="fa fa-check"></i><b>3</b> Formatting Text and Numbers</a><ul>
<li class="chapter" data-level="3.1" data-path="formatting.html"><a href="formatting.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="formatting.html"><a href="formatting.html#printing-and-formatting"><i class="fa fa-check"></i><b>3.2</b> Printing and formatting</a></li>
<li class="chapter" data-level="3.3" data-path="formatting.html"><a href="formatting.html#generic-printing"><i class="fa fa-check"></i><b>3.3</b> Generic printing</a><ul>
<li class="chapter" data-level="3.3.1" data-path="formatting.html"><a href="formatting.html#when-to-use-print"><i class="fa fa-check"></i><b>3.3.1</b> When to use <code>print()</code>?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="formatting.html"><a href="formatting.html#concatenate-and-print-with-cat"><i class="fa fa-check"></i><b>3.4</b> Concatenate and print with <code>cat()</code></a></li>
<li class="chapter" data-level="3.5" data-path="formatting.html"><a href="formatting.html#encoding-strings-with-format"><i class="fa fa-check"></i><b>3.5</b> Encoding strings with <code>format()</code></a></li>
<li class="chapter" data-level="3.6" data-path="formatting.html"><a href="formatting.html#exercises-1"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="c-style-formatting.html"><a href="c-style-formatting.html"><i class="fa fa-check"></i><b>4</b> C-style Formatting</a><ul>
<li class="chapter" data-level="4.1" data-path="c-style-formatting.html"><a href="c-style-formatting.html#c-style-formatting-options"><i class="fa fa-check"></i><b>4.1</b> C-style formatting options</a><ul>
<li class="chapter" data-level="4.1.1" data-path="c-style-formatting.html"><a href="c-style-formatting.html#format-slot-syntax"><i class="fa fa-check"></i><b>4.1.1</b> Format Slot Syntax</a></li>
<li class="chapter" data-level="4.1.2" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-basic-sprintf"><i class="fa fa-check"></i><b>4.1.2</b> Example: basic <code>sprintf()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-file-names"><i class="fa fa-check"></i><b>4.1.3</b> Example: File Names</a></li>
<li class="chapter" data-level="4.1.4" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-fahrenheit-to-celsius"><i class="fa fa-check"></i><b>4.1.4</b> Example: Fahrenheit to Celsius</a></li>
<li class="chapter" data-level="4.1.5" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-car-traveled-distance"><i class="fa fa-check"></i><b>4.1.5</b> Example: Car Traveled Distance</a></li>
<li class="chapter" data-level="4.1.6" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-coffee-prices"><i class="fa fa-check"></i><b>4.1.6</b> Example: Coffee Prices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>5</b> Input and Output</a><ul>
<li class="chapter" data-level="5.1" data-path="input-and-output.html"><a href="input-and-output.html#output"><i class="fa fa-check"></i><b>5.1</b> Output</a><ul>
<li class="chapter" data-level="5.1.1" data-path="input-and-output.html"><a href="input-and-output.html#concatenating-output"><i class="fa fa-check"></i><b>5.1.1</b> Concatenating output</a></li>
<li class="chapter" data-level="5.1.2" data-path="input-and-output.html"><a href="input-and-output.html#sinking-output"><i class="fa fa-check"></i><b>5.1.2</b> Sinking output</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="input-and-output.html"><a href="input-and-output.html#exporting-tables"><i class="fa fa-check"></i><b>5.2</b> Exporting tables</a></li>
</ul></li>
<li class="part"><span><b>III Manipulations</b></span></li>
<li class="chapter" data-level="6" data-path="manip.html"><a href="manip.html"><i class="fa fa-check"></i><b>6</b> Basic String Manipulations</a><ul>
<li class="chapter" data-level="6.1" data-path="manip.html"><a href="manip.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="manip.html"><a href="manip.html#basic-manipulations"><i class="fa fa-check"></i><b>6.2</b> Basic Manipulations</a></li>
<li class="chapter" data-level="6.3" data-path="manip.html"><a href="manip.html#counting-characters"><i class="fa fa-check"></i><b>6.3</b> Counting characters</a></li>
<li class="chapter" data-level="6.4" data-path="manip.html"><a href="manip.html#casefolding"><i class="fa fa-check"></i><b>6.4</b> Casefolding</a></li>
<li class="chapter" data-level="6.5" data-path="manip.html"><a href="manip.html#translating-characters"><i class="fa fa-check"></i><b>6.5</b> Translating characters</a></li>
<li class="chapter" data-level="6.6" data-path="manip.html"><a href="manip.html#abbreviating-strings"><i class="fa fa-check"></i><b>6.6</b> Abbreviating strings</a></li>
<li class="chapter" data-level="6.7" data-path="manip.html"><a href="manip.html#replacing-strings"><i class="fa fa-check"></i><b>6.7</b> Replacing strings</a></li>
<li class="chapter" data-level="6.8" data-path="manip.html"><a href="manip.html#set-operations"><i class="fa fa-check"></i><b>6.8</b> Set Operations</a><ul>
<li class="chapter" data-level="6.8.1" data-path="manip.html"><a href="manip.html#set-union-with-union"><i class="fa fa-check"></i><b>6.8.1</b> Set union with <code>union()</code></a></li>
<li class="chapter" data-level="6.8.2" data-path="manip.html"><a href="manip.html#set-intersection-with-intersect"><i class="fa fa-check"></i><b>6.8.2</b> Set intersection with <code>intersect()</code></a></li>
<li class="chapter" data-level="6.8.3" data-path="manip.html"><a href="manip.html#set-difference-with-setdiff"><i class="fa fa-check"></i><b>6.8.3</b> Set difference with <code>setdiff()</code></a></li>
<li class="chapter" data-level="6.8.4" data-path="manip.html"><a href="manip.html#set-equality-with-setequal"><i class="fa fa-check"></i><b>6.8.4</b> Set equality with <code>setequal()</code></a></li>
<li class="chapter" data-level="6.8.5" data-path="manip.html"><a href="manip.html#exact-equality-with-identical"><i class="fa fa-check"></i><b>6.8.5</b> Exact equality with <code>identical()</code></a></li>
<li class="chapter" data-level="6.8.6" data-path="manip.html"><a href="manip.html#element-contained-with-is.element"><i class="fa fa-check"></i><b>6.8.6</b> Element contained with <code>is.element()</code></a></li>
<li class="chapter" data-level="6.8.7" data-path="manip.html"><a href="manip.html#sorting-with-sort"><i class="fa fa-check"></i><b>6.8.7</b> Sorting with <code>sort()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stringr-basics.html"><a href="stringr-basics.html"><i class="fa fa-check"></i><b>7</b> Stringr Basics</a><ul>
<li class="chapter" data-level="7.1" data-path="stringr-basics.html"><a href="stringr-basics.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="stringr-basics.html"><a href="stringr-basics.html#package-stringr"><i class="fa fa-check"></i><b>7.2</b> Package <code>stringr</code></a></li>
<li class="chapter" data-level="7.3" data-path="stringr-basics.html"><a href="stringr-basics.html#basic-string-operations"><i class="fa fa-check"></i><b>7.3</b> Basic String Operations</a><ul>
<li class="chapter" data-level="7.3.1" data-path="stringr-basics.html"><a href="stringr-basics.html#concatenating-with-str_c"><i class="fa fa-check"></i><b>7.3.1</b> Concatenating with <code>str_c()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="stringr-basics.html"><a href="stringr-basics.html#number-of-characters-with-str_length"><i class="fa fa-check"></i><b>7.3.2</b> Number of characters with <code>str_length()</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="stringr-basics.html"><a href="stringr-basics.html#substring-with-str_sub"><i class="fa fa-check"></i><b>7.3.3</b> Substring with <code>str_sub()</code></a></li>
<li class="chapter" data-level="7.3.4" data-path="stringr-basics.html"><a href="stringr-basics.html#duplication-with-str_dup"><i class="fa fa-check"></i><b>7.3.4</b> Duplication with <code>str_dup()</code></a></li>
<li class="chapter" data-level="7.3.5" data-path="stringr-basics.html"><a href="stringr-basics.html#padding-with-str_pad"><i class="fa fa-check"></i><b>7.3.5</b> Padding with <code>str_pad()</code></a></li>
<li class="chapter" data-level="7.3.6" data-path="stringr-basics.html"><a href="stringr-basics.html#wrapping-with-str_wrap"><i class="fa fa-check"></i><b>7.3.6</b> Wrapping with <code>str_wrap()</code></a></li>
<li class="chapter" data-level="7.3.7" data-path="stringr-basics.html"><a href="stringr-basics.html#trimming-with-str_trim"><i class="fa fa-check"></i><b>7.3.7</b> Trimming with <code>str_trim()</code></a></li>
<li class="chapter" data-level="7.3.8" data-path="stringr-basics.html"><a href="stringr-basics.html#word-extraction-with-word"><i class="fa fa-check"></i><b>7.3.8</b> Word extraction with <code>word()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html"><i class="fa fa-check"></i><b>8</b> Basic Manipulation Examples</a><ul>
<li class="chapter" data-level="8.1" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#introduction-4"><i class="fa fa-check"></i><b>8.1</b> Introduction</a><ul>
<li class="chapter" data-level="8.1.1" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-names-of-files"><i class="fa fa-check"></i><b>8.1.1</b> Example: Names of files</a></li>
<li class="chapter" data-level="8.1.2" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-valid-color-names"><i class="fa fa-check"></i><b>8.1.2</b> Example: Valid Color Names</a></li>
<li class="chapter" data-level="8.1.3" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-me-and-you-plot"><i class="fa fa-check"></i><b>8.1.3</b> Example: Me and You plot</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Regex</b></span></li>
<li class="chapter" data-level="9" data-path="regex1.html"><a href="regex1.html"><i class="fa fa-check"></i><b>9</b> Regular Expressions</a><ul>
<li class="chapter" data-level="9.1" data-path="regex1.html"><a href="regex1.html#introduction-5"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="regex1.html"><a href="regex1.html#what-are-regular-expressions"><i class="fa fa-check"></i><b>9.2</b> What are Regular Expressions?</a><ul>
<li class="chapter" data-level="9.2.1" data-path="regex1.html"><a href="regex1.html#what-are-regular-expressions-used-for"><i class="fa fa-check"></i><b>9.2.1</b> What are Regular Expressions used for?</a></li>
<li class="chapter" data-level="9.2.2" data-path="regex1.html"><a href="regex1.html#a-word-of-caution-about-regex"><i class="fa fa-check"></i><b>9.2.2</b> A word of caution about regex</a></li>
<li class="chapter" data-level="9.2.3" data-path="regex1.html"><a href="regex1.html#regular-expressions-in-r"><i class="fa fa-check"></i><b>9.2.3</b> Regular Expressions in R</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="regex1.html"><a href="regex1.html#regex-basics"><i class="fa fa-check"></i><b>9.3</b> Regex Basics</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="literal.html"><a href="literal.html"><i class="fa fa-check"></i><b>10</b> Literal Characters</a><ul>
<li class="chapter" data-level="10.1" data-path="literal.html"><a href="literal.html#matching-literal-characters"><i class="fa fa-check"></i><b>10.1</b> Matching Literal Characters</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="metacharacters.html"><a href="metacharacters.html"><i class="fa fa-check"></i><b>11</b> Metacharacters</a><ul>
<li class="chapter" data-level="11.1" data-path="metacharacters.html"><a href="metacharacters.html#about-metacharacters"><i class="fa fa-check"></i><b>11.1</b> About Metacharacters</a></li>
<li class="chapter" data-level="11.2" data-path="metacharacters.html"><a href="metacharacters.html#the-wild-metacharacter"><i class="fa fa-check"></i><b>11.2</b> The Wild Metacharacter</a></li>
<li class="chapter" data-level="11.3" data-path="metacharacters.html"><a href="metacharacters.html#escaping-metacharacters"><i class="fa fa-check"></i><b>11.3</b> Escaping metacharacters</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="character-sets.html"><a href="character-sets.html"><i class="fa fa-check"></i><b>12</b> Character Sets</a><ul>
<li class="chapter" data-level="12.1" data-path="character-sets.html"><a href="character-sets.html#defining-character-sets"><i class="fa fa-check"></i><b>12.1</b> Defining character sets</a></li>
<li class="chapter" data-level="12.2" data-path="character-sets.html"><a href="character-sets.html#character-ranges"><i class="fa fa-check"></i><b>12.2</b> Character ranges</a></li>
<li class="chapter" data-level="12.3" data-path="character-sets.html"><a href="character-sets.html#negative-character-sets"><i class="fa fa-check"></i><b>12.3</b> Negative Character Sets</a></li>
<li class="chapter" data-level="12.4" data-path="character-sets.html"><a href="character-sets.html#metacharacters-inside-character-sets"><i class="fa fa-check"></i><b>12.4</b> Metacharacters inside character sets</a></li>
<li class="chapter" data-level="12.5" data-path="character-sets.html"><a href="character-sets.html#character-classes"><i class="fa fa-check"></i><b>12.5</b> Character Classes</a></li>
<li class="chapter" data-level="12.6" data-path="character-sets.html"><a href="character-sets.html#posix-character-classes"><i class="fa fa-check"></i><b>12.6</b> POSIX Character Classes</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="anchors.html"><a href="anchors.html"><i class="fa fa-check"></i><b>13</b> Anchors</a></li>
<li class="chapter" data-level="14" data-path="quantifiers.html"><a href="quantifiers.html"><i class="fa fa-check"></i><b>14</b> Quantifiers</a><ul>
<li class="chapter" data-level="14.0.1" data-path="quantifiers.html"><a href="quantifiers.html#what-do-groups-mean-in-regex"><i class="fa fa-check"></i><b>14.0.1</b> What do groups mean in Regex?</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="boundaries.html"><a href="boundaries.html"><i class="fa fa-check"></i><b>15</b> Boundaries and Look Arounds</a><ul>
<li class="chapter" data-level="15.1" data-path="boundaries.html"><a href="boundaries.html#look-arounds"><i class="fa fa-check"></i><b>15.1</b> Look Arounds</a><ul>
<li class="chapter" data-level="15.1.1" data-path="boundaries.html"><a href="boundaries.html#look-aheads"><i class="fa fa-check"></i><b>15.1.1</b> Look Aheads</a></li>
<li class="chapter" data-level="15.1.2" data-path="boundaries.html"><a href="boundaries.html#look-behinds"><i class="fa fa-check"></i><b>15.1.2</b> Look Behinds</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Applications</b></span></li>
<li class="chapter" data-level="16" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>16</b> Practical Applications</a><ul>
<li class="chapter" data-level="16.1" data-path="applications.html"><a href="applications.html#introduction-6"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="reversing.html"><a href="reversing.html"><i class="fa fa-check"></i><b>17</b> Reversing Strings</a><ul>
<li class="chapter" data-level="17.1" data-path="reversing.html"><a href="reversing.html#introduction-7"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="reversing.html"><a href="reversing.html#reversing-characters"><i class="fa fa-check"></i><b>17.2</b> Reversing Characters</a></li>
<li class="chapter" data-level="17.3" data-path="reversing.html"><a href="reversing.html#reversing-words"><i class="fa fa-check"></i><b>17.3</b> Reversing Words</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>18</b> Matching HTML Tags</a><ul>
<li class="chapter" data-level="18.1" data-path="html.html"><a href="html.html#introduction-8"><i class="fa fa-check"></i><b>18.1</b> Introduction</a></li>
<li class="chapter" data-level="18.2" data-path="html.html"><a href="html.html#attributes-href"><i class="fa fa-check"></i><b>18.2</b> Attributes <code>href</code></a><ul>
<li class="chapter" data-level="18.2.1" data-path="html.html"><a href="html.html#getting-sig-links"><i class="fa fa-check"></i><b>18.2.1</b> Getting SIG links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>19</b> Data Cleaning</a><ul>
<li class="chapter" data-level="19.1" data-path="cleaning.html"><a href="cleaning.html#introduction-9"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="cleaning.html"><a href="cleaning.html#import-data"><i class="fa fa-check"></i><b>19.2</b> Import Data</a></li>
<li class="chapter" data-level="19.3" data-path="cleaning.html"><a href="cleaning.html#extracting-meters"><i class="fa fa-check"></i><b>19.3</b> Extracting Meters</a></li>
<li class="chapter" data-level="19.4" data-path="cleaning.html"><a href="cleaning.html#extracting-country"><i class="fa fa-check"></i><b>19.4</b> Extracting Country</a></li>
<li class="chapter" data-level="19.5" data-path="cleaning.html"><a href="cleaning.html#cleaning-dates"><i class="fa fa-check"></i><b>19.5</b> Cleaning Dates</a></li>
<li class="chapter" data-level="19.6" data-path="cleaning.html"><a href="cleaning.html#month-and-day"><i class="fa fa-check"></i><b>19.6</b> Month and Day</a></li>
<li class="chapter" data-level="19.7" data-path="cleaning.html"><a href="cleaning.html#extracting-year"><i class="fa fa-check"></i><b>19.7</b> Extracting Year</a><ul>
<li class="chapter" data-level="19.7.1" data-path="cleaning.html"><a href="cleaning.html#athletes-name"><i class="fa fa-check"></i><b>19.7.1</b> Athlete’s Name</a></li>
</ul></li>
<li class="chapter" data-level="19.8" data-path="cleaning.html"><a href="cleaning.html#athlete-names"><i class="fa fa-check"></i><b>19.8</b> Athlete Names</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="logs.html"><a href="logs.html"><i class="fa fa-check"></i><b>20</b> Data Log File</a><ul>
<li class="chapter" data-level="20.1" data-path="logs.html"><a href="logs.html#reading-the-text-file"><i class="fa fa-check"></i><b>20.1</b> Reading the text file</a><ul>
<li class="chapter" data-level="20.1.1" data-path="logs.html"><a href="logs.html#jpg-file-requests"><i class="fa fa-check"></i><b>20.1.1</b> JPG File Requests</a></li>
<li class="chapter" data-level="20.1.2" data-path="logs.html"><a href="logs.html#extracting-file-extensions"><i class="fa fa-check"></i><b>20.1.2</b> Extracting file extensions</a></li>
<li class="chapter" data-level="20.1.3" data-path="logs.html"><a href="logs.html#image-files"><i class="fa fa-check"></i><b>20.1.3</b> Image files</a></li>
<li class="chapter" data-level="20.1.4" data-path="logs.html"><a href="logs.html#how-to-match-image-files-with-one-regex-pattern"><i class="fa fa-check"></i><b>20.1.4</b> How to match image files with one regex pattern?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="biomed.html"><a href="biomed.html"><i class="fa fa-check"></i><b>21</b> BMC Journals Data</a><ul>
<li class="chapter" data-level="21.1" data-path="biomed.html"><a href="biomed.html#introduction-10"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2" data-path="biomed.html"><a href="biomed.html#analyzing-journal-names"><i class="fa fa-check"></i><b>21.2</b> Analyzing Journal Names</a><ul>
<li class="chapter" data-level="21.2.1" data-path="biomed.html"><a href="biomed.html#preprocessing"><i class="fa fa-check"></i><b>21.2.1</b> Preprocessing</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="biomed.html"><a href="biomed.html#summary-statistics"><i class="fa fa-check"></i><b>21.3</b> Summary statistics</a></li>
<li class="chapter" data-level="21.4" data-path="biomed.html"><a href="biomed.html#common-words"><i class="fa fa-check"></i><b>21.4</b> Common words</a></li>
<li class="chapter" data-level="21.5" data-path="biomed.html"><a href="biomed.html#the-top-30-words"><i class="fa fa-check"></i><b>21.5</b> The top 30 words</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handling Strings with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="boundaries" class="section level1">
<h1><span class="header-section-number">15</span> Boundaries and Look Arounds</h1>
<div id="by-chitra-venkatesh-2" class="section level4 unnumbered">
<h4>by Chitra Venkatesh</h4>
<p>Boundaries are metacharacters too and match based on what preceeds or follows current position. Let’s understand this through some examples after reviewing common boundaries.</p>
<table>
<colgroup>
<col width="28%" />
<col width="37%" />
<col width="34%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Boundary</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>\\b</code></td>
<td align="left">Matches a word boundary, i.e., when a side is not <code>[A-z0-9_]</code></td>
<td align="left"><code>\\bHi \\bHi\\b</code></td>
</tr>
<tr class="even">
<td align="left"><code>\\B</code></td>
<td align="left">Matches when not a word boundary, i.e., when a side is <code>[A-z0-9_]</code></td>
<td align="left"><code>\\BHi</code></td>
</tr>
</tbody>
</table>
<p>In the following example, we would try these cases:</p>
<ul>
<li><p>Case 1: Extract words that exactly match with <code>hi</code></p></li>
<li><p>Case 2: Extract words that contain <code>hi</code> in between characters</p></li>
<li><p>Case 3: Extract words that start with <code>hi</code></p></li>
</ul>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="boundaries.html#cb232-1"></a>some_text &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Hi there, its high time we learn shiny apps&quot;</span>)</span></code></pre></div>
<p><strong>Case 1:</strong> Extract words that exactly match with <code>hi</code>.
Note the use of <code>ignore_case</code> argument to regex()</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="boundaries.html#cb233-1"></a><span class="kw">str_extract_all</span>(some_text, <span class="kw">regex</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">bhi</span><span class="ch">\\</span><span class="st">b&quot;</span>, <span class="dt">ignore_case =</span> <span class="ot">TRUE</span>))</span>
<span id="cb233-2"><a href="boundaries.html#cb233-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb233-3"><a href="boundaries.html#cb233-3"></a><span class="co">#&gt; [1] &quot;Hi&quot;</span></span></code></pre></div>
<p><strong>Case 2:</strong> Extract words that contain <code>hi</code> in between characters</p>
<ul>
<li><p>We include <code>[A-z]*</code> on either side of <code>\\Bhi\\B</code> to match the entire word,
otherwise the pattern <code>\\Bhi\\B</code> will only match <code>hi</code> from <code>shiny</code>.</p></li>
<li><p>We used <code>[A-z]*</code> instead of <code>[A-z]+</code> to specifically showcase that no other
<code>hi</code> got matched as <code>*</code> denotes 0 or any.</p></li>
</ul>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="boundaries.html#cb234-1"></a><span class="kw">str_extract_all</span>(some_text, <span class="kw">regex</span>(<span class="st">&quot;[A-z]*</span><span class="ch">\\</span><span class="st">Bhi</span><span class="ch">\\</span><span class="st">B[A-z]*&quot;</span>, <span class="dt">ignore_case =</span> <span class="ot">TRUE</span>))</span>
<span id="cb234-2"><a href="boundaries.html#cb234-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb234-3"><a href="boundaries.html#cb234-3"></a><span class="co">#&gt; [1] &quot;shiny&quot;</span></span></code></pre></div>
<p><strong>Case 3:</strong> Extract words that start with <code>hi</code></p>
<p>Note that <code>shiny</code> is not matched since it starts with <code>s</code> and not <code>hi</code>.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="boundaries.html#cb235-1"></a><span class="kw">str_extract_all</span>(some_text, <span class="kw">regex</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">bhi[A-z]*&quot;</span>, <span class="dt">ignore_case =</span> <span class="ot">TRUE</span>))</span>
<span id="cb235-2"><a href="boundaries.html#cb235-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb235-3"><a href="boundaries.html#cb235-3"></a><span class="co">#&gt; [1] &quot;Hi&quot;   &quot;high&quot;</span></span></code></pre></div>
</div>
<div id="look-arounds" class="section level2">
<h2><span class="header-section-number">15.1</span> Look Arounds</h2>
<p>As the name suggests, it helps look around the string. <code>Look Arounds</code> indicate
positions just like anchors, <code>$</code>, <code>^</code>, that we learnt in previous section.</p>
<p>There are four types of look arounds.</p>
<table>
<thead>
<tr class="header">
<th>Look Around</th>
<th>Notation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Positive Look Ahead</td>
<td><code>A(?=pattern)</code></td>
<td>Check if pattern follows A</td>
</tr>
<tr class="even">
<td>Negative Look Ahead</td>
<td><code>A(?!pattern)</code></td>
<td>Check if pattern does not follow A</td>
</tr>
<tr class="odd">
<td>Positive Look Behind</td>
<td><code>(?&lt;=pattern)A</code></td>
<td>Check if pattern precedes A</td>
</tr>
<tr class="even">
<td>Negative Look Behind</td>
<td><code>(?&lt;!pattern)A</code></td>
<td>Check if pattern does not preceed A</td>
</tr>
</tbody>
</table>
<p>In the table, <code>A</code> refers to a character set/group that we are trying to extract.</p>
<div id="look-aheads" class="section level3">
<h3><span class="header-section-number">15.1.1</span> Look Aheads</h3>
<p>Let’s look at some examples for Look Aheads.</p>
<p>In the variable <code>weights_item</code>, we have weights of items and we would like to
retrieve the weights without the unit of measurement.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="boundaries.html#cb236-1"></a>weights_item &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;55lbs&quot;</span>, <span class="st">&quot;32&quot;</span>,<span class="st">&quot;14lbs&quot;</span>,<span class="st">&quot;12&quot;</span>,<span class="st">&quot;224lbs&quot;</span>)</span>
<span id="cb236-2"><a href="boundaries.html#cb236-2"></a></span>
<span id="cb236-3"><a href="boundaries.html#cb236-3"></a><span class="kw">str_extract</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+&quot;</span>))</span>
<span id="cb236-4"><a href="boundaries.html#cb236-4"></a><span class="co">#&gt; [1] &quot;55&quot;  &quot;32&quot;  &quot;14&quot;  &quot;12&quot;  &quot;224&quot;</span></span></code></pre></div>
<p>Let’s change the format of <code>weights_item</code> and check how the output looks like.
We will use <code>str_extract_all()</code> instead of <code>str_extract()</code> to extract all
occurances of weights in a single string.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="boundaries.html#cb237-1"></a>weights_item &lt;-<span class="st"> &quot;55lbs, 32, 14lbs, 12, 224lbs&quot;</span></span>
<span id="cb237-2"><a href="boundaries.html#cb237-2"></a></span>
<span id="cb237-3"><a href="boundaries.html#cb237-3"></a><span class="kw">str_extract_all</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+&quot;</span>))</span>
<span id="cb237-4"><a href="boundaries.html#cb237-4"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb237-5"><a href="boundaries.html#cb237-5"></a><span class="co">#&gt; [1] &quot;55&quot;  &quot;32&quot;  &quot;14&quot;  &quot;12&quot;  &quot;224&quot;</span></span></code></pre></div>
<p>Let’s change our input to contain weights that are in kilograms.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="boundaries.html#cb238-1"></a>weights_item &lt;-<span class="st"> &quot;55lbs, 8kg, 32, 14lbs, 12, 224lbs, 2kg, 21lbs&quot;</span></span>
<span id="cb238-2"><a href="boundaries.html#cb238-2"></a></span>
<span id="cb238-3"><a href="boundaries.html#cb238-3"></a><span class="kw">str_extract_all</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+&quot;</span>))</span>
<span id="cb238-4"><a href="boundaries.html#cb238-4"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb238-5"><a href="boundaries.html#cb238-5"></a><span class="co">#&gt; [1] &quot;55&quot;  &quot;8&quot;   &quot;32&quot;  &quot;14&quot;  &quot;12&quot;  &quot;224&quot; &quot;2&quot;   &quot;21&quot;</span></span></code></pre></div>
<p>In case we want to retrieve only those weights with unit of measurement lbs, we
could use a <em>positive look ahead</em>. In the syntax <code>A(?=pattern)</code>, the pattern we
look for would be <code>lbs</code>. Any number that is followed by <code>lbs</code> will be extracted
hence <code>A</code> is <code>[0-9]+</code>.</p>
<p>Don’t forget that <code>(?=lbs)</code> does not extract <code>lbs</code>, it is used to assert
position only!</p>
<p><img src="images/Lookahead_1.png" width="75%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="boundaries.html#cb239-1"></a>weights_item &lt;-<span class="st"> &quot;55lbs, 8kg, 32, 14lbs, 12, 224lbs, 2kg, 21lbs&quot;</span></span>
<span id="cb239-2"><a href="boundaries.html#cb239-2"></a></span>
<span id="cb239-3"><a href="boundaries.html#cb239-3"></a><span class="kw">str_extract_all</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+(?=lbs)&quot;</span>))</span>
<span id="cb239-4"><a href="boundaries.html#cb239-4"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb239-5"><a href="boundaries.html#cb239-5"></a><span class="co">#&gt; [1] &quot;55&quot;  &quot;14&quot;  &quot;224&quot; &quot;21&quot;</span></span></code></pre></div>
<p>In case we want to extract all weights that don’t have <code>kg</code> as the unit of
measurement, we could use <em>negative look ahead</em>. In the syntax <code>A(?!pattern)</code>,
the pattern here is <code>kg</code> and <code>A</code> should be character class <code>[0-9]</code> with
quantifier <code>+</code> (one or many).</p>
<p><img src="images/Lookahead_2.png" width="75%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="boundaries.html#cb240-1"></a>weights_item &lt;-<span class="st"> &quot;55lbs, 8kg, 32, 14lbs, 12, 224lbs, 2kg, 21lbs&quot;</span></span>
<span id="cb240-2"><a href="boundaries.html#cb240-2"></a></span>
<span id="cb240-3"><a href="boundaries.html#cb240-3"></a><span class="kw">str_extract_all</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+(?!kg)&quot;</span>))</span>
<span id="cb240-4"><a href="boundaries.html#cb240-4"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb240-5"><a href="boundaries.html#cb240-5"></a><span class="co">#&gt; [1] &quot;55&quot;  &quot;32&quot;  &quot;14&quot;  &quot;12&quot;  &quot;224&quot; &quot;21&quot;</span></span></code></pre></div>
<p>Similarly, using <em>negative look ahead</em> to extract all weights that don’t have
<code>lbs</code> as the unit of measurement should work too, but in the code snippet below,
we get an incorrect output. Can you guess why?</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="boundaries.html#cb241-1"></a>weights_item &lt;-<span class="st"> &quot;55lbs, 8kg, 32, 14lbs, 12, 224lbs, 2kg, 21lbs&quot;</span></span>
<span id="cb241-2"><a href="boundaries.html#cb241-2"></a></span>
<span id="cb241-3"><a href="boundaries.html#cb241-3"></a><span class="kw">str_extract_all</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+(?!lbs)&quot;</span>))</span>
<span id="cb241-4"><a href="boundaries.html#cb241-4"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb241-5"><a href="boundaries.html#cb241-5"></a><span class="co">#&gt; [1] &quot;5&quot;  &quot;8&quot;  &quot;32&quot; &quot;1&quot;  &quot;12&quot; &quot;22&quot; &quot;2&quot;  &quot;2&quot;</span></span></code></pre></div>
<p>This is incorrect since we extract the 5 from 55lbs, 1 from 14lbs, 22 from
224lbs and 2 from 21lbs additional to our actual answer.</p>
<p><img src="images/Lookahead_3.png" width="90%" style="display: block; margin: auto;" /></p>
<p>We could overcome this by specifically mentioning that the number (weight) <strong>cannot</strong> be followed by:</p>
<ul>
<li><p>the pattern <code>lbs</code></p></li>
<li><p>some number (i.e, from 21lbs, we should not extract 2)</p></li>
</ul>
<p>To do this, we could use <code>alternation</code>, denoted as pipe <code>|</code>, which is similar
to <code>OR</code>.</p>
<p>The pattern in <code>A(?!pattern)</code> is now <code>lbs</code> or <code>[0-9]+</code>, which we can represent
as <code>(lbs|[0-9]+)</code>. Note that our pattern in enclosed within paranthesis.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="boundaries.html#cb242-1"></a>weights_item &lt;-<span class="st"> &quot;55lbs, 8kg, 32, 14lbs, 12, 224lbs, 2kg, 21lbs&quot;</span></span>
<span id="cb242-2"><a href="boundaries.html#cb242-2"></a></span>
<span id="cb242-3"><a href="boundaries.html#cb242-3"></a><span class="kw">str_extract_all</span>(weights_item, <span class="kw">regex</span>(<span class="st">&quot;[0-9]+(?!(lbs|[0-9]+))&quot;</span>))</span>
<span id="cb242-4"><a href="boundaries.html#cb242-4"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb242-5"><a href="boundaries.html#cb242-5"></a><span class="co">#&gt; [1] &quot;8&quot;  &quot;32&quot; &quot;12&quot; &quot;2&quot;</span></span></code></pre></div>
<p>The illustration above is typical of regular expressions. As the test cases
become complex, one has to tweek the expression to include all the corner cases.</p>
</div>
<div id="look-behinds" class="section level3">
<h3><span class="header-section-number">15.1.2</span> Look Behinds</h3>
<p>As the name suggests, we look behind the current position for presence or
absence of a pattern. This works the same way as look ahead, except that we
look for the preceding characters.</p>
<p>Let us look at some examples.</p>
<p>Consider a variable <code>runs</code> that has data of some baseball players from a team
over two games. We will use a <em>positive look-behind</em> to extract scores of
<code>Player-A</code>. In the syntax <code>(?&lt;=pattern)P</code>, pattern is <code>(Player-A )</code> and <code>P</code> is
the score we want to extract, i.e., <code>[0-9]+</code>.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="boundaries.html#cb243-1"></a>runs &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb243-2"><a href="boundaries.html#cb243-2"></a>  <span class="st">&quot;Player-A 0&quot;</span>, </span>
<span id="cb243-3"><a href="boundaries.html#cb243-3"></a>  <span class="st">&quot;Player-B 3&quot;</span>, </span>
<span id="cb243-4"><a href="boundaries.html#cb243-4"></a>  <span class="st">&quot;Player-A 2&quot;</span>, </span>
<span id="cb243-5"><a href="boundaries.html#cb243-5"></a>  <span class="st">&quot;Player-C 9&quot;</span>, </span>
<span id="cb243-6"><a href="boundaries.html#cb243-6"></a>  <span class="st">&quot;Player-C 1&quot;</span>, </span>
<span id="cb243-7"><a href="boundaries.html#cb243-7"></a>  <span class="st">&quot;Player-B 7&quot;</span>)</span>
<span id="cb243-8"><a href="boundaries.html#cb243-8"></a></span>
<span id="cb243-9"><a href="boundaries.html#cb243-9"></a><span class="kw">str_extract</span>(runs, <span class="kw">regex</span>(<span class="st">&quot;(?&lt;=(Player-A ))[0-9]+&quot;</span>))</span>
<span id="cb243-10"><a href="boundaries.html#cb243-10"></a><span class="co">#&gt; [1] &quot;0&quot; NA  &quot;2&quot; NA  NA  NA</span></span></code></pre></div>
<p><img src="images/lookbehind_1.png" width="95%" style="display: block; margin: auto;" /></p>
<p>Similarly, we can use a <em>negative look-behind</em> to extract scores of players who
are not <code>Player-A</code>. In the syntax <code>(?&lt;!pattern)P</code>, <code>P</code> is <code>[0-9]+</code> and the
pattern is <code>(Player-A )</code>.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="boundaries.html#cb244-1"></a>runs &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb244-2"><a href="boundaries.html#cb244-2"></a>  <span class="st">&quot;Player-A 0&quot;</span>, </span>
<span id="cb244-3"><a href="boundaries.html#cb244-3"></a>  <span class="st">&quot;Player-B 3&quot;</span>, </span>
<span id="cb244-4"><a href="boundaries.html#cb244-4"></a>  <span class="st">&quot;Player-A 2&quot;</span>, </span>
<span id="cb244-5"><a href="boundaries.html#cb244-5"></a>  <span class="st">&quot;Player-C 9&quot;</span>, </span>
<span id="cb244-6"><a href="boundaries.html#cb244-6"></a>  <span class="st">&quot;Player-C 1&quot;</span>, </span>
<span id="cb244-7"><a href="boundaries.html#cb244-7"></a>  <span class="st">&quot;Player-B 7&quot;</span>)</span>
<span id="cb244-8"><a href="boundaries.html#cb244-8"></a></span>
<span id="cb244-9"><a href="boundaries.html#cb244-9"></a><span class="kw">str_extract</span>(runs, <span class="kw">regex</span>(<span class="st">&quot;(?&lt;!(Player-A ))[0-9]+&quot;</span>))</span>
<span id="cb244-10"><a href="boundaries.html#cb244-10"></a><span class="co">#&gt; [1] NA  &quot;3&quot; NA  &quot;9&quot; &quot;1&quot; &quot;7&quot;</span></span></code></pre></div>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="quantifiers.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="applications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/gastonstat/r4strings/edit/master/boundaries.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
