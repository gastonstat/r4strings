<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Handling Strings with R</title>
  <meta name="description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Handling Strings with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://gastonsanchez.com/r4strings/" />
  
  <meta property="og:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="github-repo" content="gastonstat/r4strings" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Handling Strings with R" />
  
  <meta name="twitter:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  

<meta name="author" content="Gaston Sanchez">


<meta name="date" content="2016-10-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="metacharacters.html">
<link rel="next" href="applications.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handling Strings with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#give-now"><i class="fa fa-check"></i>Give Now</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-this-book"><i class="fa fa-check"></i><b>1.1</b> About this book</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#structure-of-the-book"><i class="fa fa-check"></i><b>1.1.1</b> Structure of the book</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#main-resources"><i class="fa fa-check"></i><b>1.1.2</b> Main Resources</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#acknowledgements"><i class="fa fa-check"></i><b>1.1.3</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.1.4" data-path="intro.html"><a href="intro.html#colophon"><i class="fa fa-check"></i><b>1.1.4</b> Colophon</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Characters</b></span></li>
<li class="chapter" data-level="2" data-path="chars.html"><a href="chars.html"><i class="fa fa-check"></i><b>2</b> Character Strings in R</a><ul>
<li class="chapter" data-level="2.1" data-path="chars.html"><a href="chars.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="chars.html"><a href="chars.html#common-use-of-strings-in-r"><i class="fa fa-check"></i><b>2.2</b> Common use of strings in R</a></li>
<li class="chapter" data-level="2.3" data-path="chars.html"><a href="chars.html#creating-character-strings"><i class="fa fa-check"></i><b>2.3</b> Creating Character Strings</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chars.html"><a href="chars.html#empty-string"><i class="fa fa-check"></i><b>2.3.1</b> Empty string</a></li>
<li class="chapter" data-level="2.3.2" data-path="chars.html"><a href="chars.html#empty-character-vector"><i class="fa fa-check"></i><b>2.3.2</b> Empty character vector</a></li>
<li class="chapter" data-level="2.3.3" data-path="chars.html"><a href="chars.html#function-c"><i class="fa fa-check"></i><b>2.3.3</b> Function <code>c()</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="chars.html"><a href="chars.html#is.character-and-as.character"><i class="fa fa-check"></i><b>2.3.4</b> <code>is.character()</code> and <code>as.character()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chars.html"><a href="chars.html#behavior-of-r-objects-with-character-strings"><i class="fa fa-check"></i><b>2.4</b> Behavior of R objects with character strings</a></li>
<li class="chapter" data-level="2.5" data-path="chars.html"><a href="chars.html#the-workhorse-function-paste"><i class="fa fa-check"></i><b>2.5</b> The workhorse function <code>paste()</code></a></li>
<li class="chapter" data-level="2.6" data-path="chars.html"><a href="chars.html#exercises"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Formatting</b></span></li>
<li class="chapter" data-level="3" data-path="formatting.html"><a href="formatting.html"><i class="fa fa-check"></i><b>3</b> Formatting Text and Numbers</a><ul>
<li class="chapter" data-level="3.1" data-path="formatting.html"><a href="formatting.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="formatting.html"><a href="formatting.html#printing-and-formatting"><i class="fa fa-check"></i><b>3.2</b> Printing and formatting</a></li>
<li class="chapter" data-level="3.3" data-path="formatting.html"><a href="formatting.html#generic-printing"><i class="fa fa-check"></i><b>3.3</b> Generic printing</a><ul>
<li class="chapter" data-level="3.3.1" data-path="formatting.html"><a href="formatting.html#when-to-use-print"><i class="fa fa-check"></i><b>3.3.1</b> When to use <code>print()</code>?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="formatting.html"><a href="formatting.html#concatenate-and-print-with-cat"><i class="fa fa-check"></i><b>3.4</b> Concatenate and print with <code>cat()</code></a></li>
<li class="chapter" data-level="3.5" data-path="formatting.html"><a href="formatting.html#encoding-strings-with-format"><i class="fa fa-check"></i><b>3.5</b> Encoding strings with <code>format()</code></a></li>
<li class="chapter" data-level="3.6" data-path="formatting.html"><a href="formatting.html#exercises-1"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="c-style-formatting.html"><a href="c-style-formatting.html"><i class="fa fa-check"></i><b>4</b> C-style Formatting</a><ul>
<li class="chapter" data-level="4.1" data-path="c-style-formatting.html"><a href="c-style-formatting.html#c-style-formatting-options"><i class="fa fa-check"></i><b>4.1</b> C-style formatting options</a><ul>
<li class="chapter" data-level="4.1.1" data-path="c-style-formatting.html"><a href="c-style-formatting.html#format-slot-syntax"><i class="fa fa-check"></i><b>4.1.1</b> Format Slot Syntax</a></li>
<li class="chapter" data-level="4.1.2" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-basic-sprintf"><i class="fa fa-check"></i><b>4.1.2</b> Example: basic <code>sprintf()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-file-names"><i class="fa fa-check"></i><b>4.1.3</b> Example: File Names</a></li>
<li class="chapter" data-level="4.1.4" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-fahrenheit-to-celsius"><i class="fa fa-check"></i><b>4.1.4</b> Example: Fahrenheit to Celsius</a></li>
<li class="chapter" data-level="4.1.5" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-car-traveled-distance"><i class="fa fa-check"></i><b>4.1.5</b> Example: Car Traveled Distance</a></li>
<li class="chapter" data-level="4.1.6" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-coffee-prices"><i class="fa fa-check"></i><b>4.1.6</b> Example: Coffee Prices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>5</b> Input and Output</a><ul>
<li class="chapter" data-level="5.1" data-path="input-and-output.html"><a href="input-and-output.html#output"><i class="fa fa-check"></i><b>5.1</b> Output</a><ul>
<li class="chapter" data-level="5.1.1" data-path="input-and-output.html"><a href="input-and-output.html#concatenating-output"><i class="fa fa-check"></i><b>5.1.1</b> Concatenating output</a></li>
<li class="chapter" data-level="5.1.2" data-path="input-and-output.html"><a href="input-and-output.html#sinking-output"><i class="fa fa-check"></i><b>5.1.2</b> Sinking output</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="input-and-output.html"><a href="input-and-output.html#exporting-tables"><i class="fa fa-check"></i><b>5.2</b> Exporting tables</a></li>
</ul></li>
<li class="part"><span><b>III Manipulations</b></span></li>
<li class="chapter" data-level="6" data-path="manip.html"><a href="manip.html"><i class="fa fa-check"></i><b>6</b> Basic String Manipulations</a><ul>
<li class="chapter" data-level="6.1" data-path="manip.html"><a href="manip.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="manip.html"><a href="manip.html#basic-manipulations"><i class="fa fa-check"></i><b>6.2</b> Basic Manipulations</a></li>
<li class="chapter" data-level="6.3" data-path="manip.html"><a href="manip.html#counting-characters"><i class="fa fa-check"></i><b>6.3</b> Counting characters</a></li>
<li class="chapter" data-level="6.4" data-path="manip.html"><a href="manip.html#casefolding"><i class="fa fa-check"></i><b>6.4</b> Casefolding</a></li>
<li class="chapter" data-level="6.5" data-path="manip.html"><a href="manip.html#translating-characters"><i class="fa fa-check"></i><b>6.5</b> Translating characters</a></li>
<li class="chapter" data-level="6.6" data-path="manip.html"><a href="manip.html#abbreviating-strings"><i class="fa fa-check"></i><b>6.6</b> Abbreviating strings</a></li>
<li class="chapter" data-level="6.7" data-path="manip.html"><a href="manip.html#replacing-strings"><i class="fa fa-check"></i><b>6.7</b> Replacing strings</a></li>
<li class="chapter" data-level="6.8" data-path="manip.html"><a href="manip.html#set-operations"><i class="fa fa-check"></i><b>6.8</b> Set Operations</a><ul>
<li class="chapter" data-level="6.8.1" data-path="manip.html"><a href="manip.html#set-union-with-union"><i class="fa fa-check"></i><b>6.8.1</b> Set union with <code>union()</code></a></li>
<li class="chapter" data-level="6.8.2" data-path="manip.html"><a href="manip.html#set-intersection-with-intersect"><i class="fa fa-check"></i><b>6.8.2</b> Set intersection with <code>intersect()</code></a></li>
<li class="chapter" data-level="6.8.3" data-path="manip.html"><a href="manip.html#set-difference-with-setdiff"><i class="fa fa-check"></i><b>6.8.3</b> Set difference with <code>setdiff()</code></a></li>
<li class="chapter" data-level="6.8.4" data-path="manip.html"><a href="manip.html#set-equality-with-setequal"><i class="fa fa-check"></i><b>6.8.4</b> Set equality with <code>setequal()</code></a></li>
<li class="chapter" data-level="6.8.5" data-path="manip.html"><a href="manip.html#exact-equality-with-identical"><i class="fa fa-check"></i><b>6.8.5</b> Exact equality with <code>identical()</code></a></li>
<li class="chapter" data-level="6.8.6" data-path="manip.html"><a href="manip.html#element-contained-with-is.element"><i class="fa fa-check"></i><b>6.8.6</b> Element contained with <code>is.element()</code></a></li>
<li class="chapter" data-level="6.8.7" data-path="manip.html"><a href="manip.html#sorting-with-sort"><i class="fa fa-check"></i><b>6.8.7</b> Sorting with <code>sort()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stringr-basics.html"><a href="stringr-basics.html"><i class="fa fa-check"></i><b>7</b> Stringr Basics</a><ul>
<li class="chapter" data-level="7.1" data-path="stringr-basics.html"><a href="stringr-basics.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="stringr-basics.html"><a href="stringr-basics.html#package-stringr"><i class="fa fa-check"></i><b>7.2</b> Package <code>stringr</code></a></li>
<li class="chapter" data-level="7.3" data-path="stringr-basics.html"><a href="stringr-basics.html#basic-string-operations"><i class="fa fa-check"></i><b>7.3</b> Basic String Operations</a><ul>
<li class="chapter" data-level="7.3.1" data-path="stringr-basics.html"><a href="stringr-basics.html#concatenating-with-str_c"><i class="fa fa-check"></i><b>7.3.1</b> Concatenating with <code>str_c()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="stringr-basics.html"><a href="stringr-basics.html#number-of-characters-with-str_length"><i class="fa fa-check"></i><b>7.3.2</b> Number of characters with <code>str_length()</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="stringr-basics.html"><a href="stringr-basics.html#substring-with-str_sub"><i class="fa fa-check"></i><b>7.3.3</b> Substring with <code>str_sub()</code></a></li>
<li class="chapter" data-level="7.3.4" data-path="stringr-basics.html"><a href="stringr-basics.html#duplication-with-str_dup"><i class="fa fa-check"></i><b>7.3.4</b> Duplication with <code>str_dup()</code></a></li>
<li class="chapter" data-level="7.3.5" data-path="stringr-basics.html"><a href="stringr-basics.html#padding-with-str_pad"><i class="fa fa-check"></i><b>7.3.5</b> Padding with <code>str_pad()</code></a></li>
<li class="chapter" data-level="7.3.6" data-path="stringr-basics.html"><a href="stringr-basics.html#wrapping-with-str_wrap"><i class="fa fa-check"></i><b>7.3.6</b> Wrapping with <code>str_wrap()</code></a></li>
<li class="chapter" data-level="7.3.7" data-path="stringr-basics.html"><a href="stringr-basics.html#trimming-with-str_trim"><i class="fa fa-check"></i><b>7.3.7</b> Trimming with <code>str_trim()</code></a></li>
<li class="chapter" data-level="7.3.8" data-path="stringr-basics.html"><a href="stringr-basics.html#word-extraction-with-word"><i class="fa fa-check"></i><b>7.3.8</b> Word extraction with <code>word()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html"><i class="fa fa-check"></i><b>8</b> Basic Manipulation Examples</a><ul>
<li class="chapter" data-level="8.1" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#introduction-4"><i class="fa fa-check"></i><b>8.1</b> Introduction</a><ul>
<li class="chapter" data-level="8.1.1" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-names-of-files"><i class="fa fa-check"></i><b>8.1.1</b> Example: Names of files</a></li>
<li class="chapter" data-level="8.1.2" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-valid-color-names"><i class="fa fa-check"></i><b>8.1.2</b> Example: Valid Color Names</a></li>
<li class="chapter" data-level="8.1.3" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-me-and-you-plot"><i class="fa fa-check"></i><b>8.1.3</b> Example: Me and You plot</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Regex</b></span></li>
<li class="chapter" data-level="9" data-path="regex1.html"><a href="regex1.html"><i class="fa fa-check"></i><b>9</b> Regular Expressions</a><ul>
<li class="chapter" data-level="9.1" data-path="regex1.html"><a href="regex1.html#introduction-5"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="regex1.html"><a href="regex1.html#what-are-regular-expressions"><i class="fa fa-check"></i><b>9.2</b> What are Regular Expressions?</a><ul>
<li class="chapter" data-level="9.2.1" data-path="regex1.html"><a href="regex1.html#what-are-regular-expressions-used-for"><i class="fa fa-check"></i><b>9.2.1</b> What are Regular Expressions used for?</a></li>
<li class="chapter" data-level="9.2.2" data-path="regex1.html"><a href="regex1.html#a-word-of-caution-about-regex"><i class="fa fa-check"></i><b>9.2.2</b> A word of caution about regex</a></li>
<li class="chapter" data-level="9.2.3" data-path="regex1.html"><a href="regex1.html#regular-expressions-in-r"><i class="fa fa-check"></i><b>9.2.3</b> Regular Expressions in R</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="regex1.html"><a href="regex1.html#regex-basics"><i class="fa fa-check"></i><b>9.3</b> Regex Basics</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="literal.html"><a href="literal.html"><i class="fa fa-check"></i><b>10</b> Literal Characters</a><ul>
<li class="chapter" data-level="10.1" data-path="literal.html"><a href="literal.html#matching-literal-characters"><i class="fa fa-check"></i><b>10.1</b> Matching Literal Characters</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="metacharacters.html"><a href="metacharacters.html"><i class="fa fa-check"></i><b>11</b> Metacharacters</a><ul>
<li class="chapter" data-level="11.1" data-path="metacharacters.html"><a href="metacharacters.html#about-metacharacters"><i class="fa fa-check"></i><b>11.1</b> About Metacharacters</a></li>
<li class="chapter" data-level="11.2" data-path="metacharacters.html"><a href="metacharacters.html#the-wild-metacharacter"><i class="fa fa-check"></i><b>11.2</b> The Wild Metacharacter</a></li>
<li class="chapter" data-level="11.3" data-path="metacharacters.html"><a href="metacharacters.html#escaping-metacharacters"><i class="fa fa-check"></i><b>11.3</b> Escaping metacharacters</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="character-sets.html"><a href="character-sets.html"><i class="fa fa-check"></i><b>12</b> Character Sets</a><ul>
<li class="chapter" data-level="12.1" data-path="character-sets.html"><a href="character-sets.html#defining-character-sets"><i class="fa fa-check"></i><b>12.1</b> Defining character sets</a></li>
<li class="chapter" data-level="12.2" data-path="character-sets.html"><a href="character-sets.html#character-ranges"><i class="fa fa-check"></i><b>12.2</b> Character ranges</a></li>
<li class="chapter" data-level="12.3" data-path="character-sets.html"><a href="character-sets.html#negative-character-sets"><i class="fa fa-check"></i><b>12.3</b> Negative Character Sets</a></li>
<li class="chapter" data-level="12.4" data-path="character-sets.html"><a href="character-sets.html#metacharacters-inside-character-sets"><i class="fa fa-check"></i><b>12.4</b> Metacharacters inside character sets</a></li>
<li class="chapter" data-level="12.5" data-path="character-sets.html"><a href="character-sets.html#character-classes"><i class="fa fa-check"></i><b>12.5</b> Character Classes</a></li>
<li class="chapter" data-level="12.6" data-path="character-sets.html"><a href="character-sets.html#posix-character-classes"><i class="fa fa-check"></i><b>12.6</b> POSIX Character Classes</a></li>
</ul></li>
<li class="part"><span><b>V Applications</b></span></li>
<li class="chapter" data-level="13" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>13</b> Practical Applications</a><ul>
<li class="chapter" data-level="13.1" data-path="applications.html"><a href="applications.html#introduction-6"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="reversing.html"><a href="reversing.html"><i class="fa fa-check"></i><b>14</b> Reversing Strings</a><ul>
<li class="chapter" data-level="14.1" data-path="reversing.html"><a href="reversing.html#introduction-7"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="reversing.html"><a href="reversing.html#reversing-characters"><i class="fa fa-check"></i><b>14.2</b> Reversing Characters</a></li>
<li class="chapter" data-level="14.3" data-path="reversing.html"><a href="reversing.html#reversing-words"><i class="fa fa-check"></i><b>14.3</b> Reversing Words</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>15</b> Matching HTML Tags</a><ul>
<li class="chapter" data-level="15.1" data-path="html.html"><a href="html.html#introduction-8"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="html.html"><a href="html.html#attributes-href"><i class="fa fa-check"></i><b>15.2</b> Attributes <code>href</code></a><ul>
<li class="chapter" data-level="15.2.1" data-path="html.html"><a href="html.html#getting-sig-links"><i class="fa fa-check"></i><b>15.2.1</b> Getting SIG links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>16</b> Data Cleaning</a><ul>
<li class="chapter" data-level="16.1" data-path="cleaning.html"><a href="cleaning.html#introduction-9"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="cleaning.html"><a href="cleaning.html#import-data"><i class="fa fa-check"></i><b>16.2</b> Import Data</a></li>
<li class="chapter" data-level="16.3" data-path="cleaning.html"><a href="cleaning.html#extracting-meters"><i class="fa fa-check"></i><b>16.3</b> Extracting Meters</a></li>
<li class="chapter" data-level="16.4" data-path="cleaning.html"><a href="cleaning.html#extracting-country"><i class="fa fa-check"></i><b>16.4</b> Extracting Country</a></li>
<li class="chapter" data-level="16.5" data-path="cleaning.html"><a href="cleaning.html#cleaning-dates"><i class="fa fa-check"></i><b>16.5</b> Cleaning Dates</a></li>
<li class="chapter" data-level="16.6" data-path="cleaning.html"><a href="cleaning.html#month-and-day"><i class="fa fa-check"></i><b>16.6</b> Month and Day</a></li>
<li class="chapter" data-level="16.7" data-path="cleaning.html"><a href="cleaning.html#extracting-year"><i class="fa fa-check"></i><b>16.7</b> Extracting Year</a><ul>
<li class="chapter" data-level="16.7.1" data-path="cleaning.html"><a href="cleaning.html#athletes-name"><i class="fa fa-check"></i><b>16.7.1</b> Athlete’s Name</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="cleaning.html"><a href="cleaning.html#athlete-names"><i class="fa fa-check"></i><b>16.8</b> Athlete Names</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="logs.html"><a href="logs.html"><i class="fa fa-check"></i><b>17</b> Data Log File</a><ul>
<li class="chapter" data-level="17.1" data-path="logs.html"><a href="logs.html#reading-the-text-file"><i class="fa fa-check"></i><b>17.1</b> Reading the text file</a><ul>
<li class="chapter" data-level="17.1.1" data-path="logs.html"><a href="logs.html#jpg-file-requests"><i class="fa fa-check"></i><b>17.1.1</b> JPG File Requests</a></li>
<li class="chapter" data-level="17.1.2" data-path="logs.html"><a href="logs.html#extracting-file-extensions"><i class="fa fa-check"></i><b>17.1.2</b> Extracting file extensions</a></li>
<li class="chapter" data-level="17.1.3" data-path="logs.html"><a href="logs.html#image-files"><i class="fa fa-check"></i><b>17.1.3</b> Image files</a></li>
<li class="chapter" data-level="17.1.4" data-path="logs.html"><a href="logs.html#how-to-match-image-files-with-one-regex-pattern"><i class="fa fa-check"></i><b>17.1.4</b> How to match image files with one regex pattern?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="biomed.html"><a href="biomed.html"><i class="fa fa-check"></i><b>18</b> BMC Journals Data</a><ul>
<li class="chapter" data-level="18.1" data-path="biomed.html"><a href="biomed.html#introduction-10"><i class="fa fa-check"></i><b>18.1</b> Introduction</a></li>
<li class="chapter" data-level="18.2" data-path="biomed.html"><a href="biomed.html#analyzing-journal-names"><i class="fa fa-check"></i><b>18.2</b> Analyzing Journal Names</a><ul>
<li class="chapter" data-level="18.2.1" data-path="biomed.html"><a href="biomed.html#preprocessing"><i class="fa fa-check"></i><b>18.2.1</b> Preprocessing</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="biomed.html"><a href="biomed.html#summary-statistics"><i class="fa fa-check"></i><b>18.3</b> Summary statistics</a></li>
<li class="chapter" data-level="18.4" data-path="biomed.html"><a href="biomed.html#common-words"><i class="fa fa-check"></i><b>18.4</b> Common words</a></li>
<li class="chapter" data-level="18.5" data-path="biomed.html"><a href="biomed.html#the-top-30-words"><i class="fa fa-check"></i><b>18.5</b> The top 30 words</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handling Strings with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="character-sets" class="section level1">
<h1><span class="header-section-number">12</span> Character Sets</h1>
<p>In this chapter we will talk about character sets. You will learn about
a couple of more metacharacters, the opening and closing brackets <code>[ ]</code>, that
will help you define a character set.</p>
<p>These square brackets indicate a character set which will match any one of
the various characters that are inside the set. Keep in mind that a character
set will match only one character. The order of the characters inside the set
does not matter; what matter is just the presence of the characters inside the
brackets. So for example if you have a set defined by <code>&quot;[AEIOU]&quot;</code>, that will
match any one upper case vowel.</p>
<div id="defining-character-sets" class="section level2">
<h2><span class="header-section-number">12.1</span> Defining character sets</h2>
<p>Consider the following pattern that includes a character set: <code>&quot;p[aeiou]n&quot;</code>,
and a vector with the words <em>pan</em>, <em>pen</em>, and <em>pin</em>:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1">pns &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;pan&#39;</span>, <span class="st">&#39;pen&#39;</span>, <span class="st">&#39;pin&#39;</span>, <span class="st">&#39;pon&#39;</span>, <span class="st">&#39;pun&#39;</span>)</a>
<a class="sourceLine" id="cb191-2" data-line-number="2"></a>
<a class="sourceLine" id="cb191-3" data-line-number="3"><span class="kw">str_view</span>(pns, <span class="st">&quot;p[aeiou]n&quot;</span>)</a></code></pre></div>
<p>The set <code>&quot;p[aeiou]n&quot;</code> matches all elements in <code>pns</code>. Now let’s use the same
set with another vector <code>pnx</code>:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1">pnx &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;pan&#39;</span>, <span class="st">&#39;pen&#39;</span>, <span class="st">&#39;pin&#39;</span>, <span class="st">&#39;p0n&#39;</span>, <span class="st">&#39;p.n&#39;</span>, <span class="st">&#39;p1n&#39;</span>, <span class="st">&#39;paun&#39;</span>)</a>
<a class="sourceLine" id="cb192-2" data-line-number="2"></a>
<a class="sourceLine" id="cb192-3" data-line-number="3"><span class="kw">str_view</span>(pnx, <span class="st">&quot;p[aeiou]n&quot;</span>)</a></code></pre></div>
<p>As you can tell, this time only the first three elements in <code>pnx</code> are matched.
Notice also that <em>paun</em> is not matched. This is because the character set
matches only one character, either <em>a</em> or <em>u</em> but not <em>au</em>.</p>
<p>If you are interested in matching all capital letters in English,
you can define a set formed as:</p>
<pre><code>[ABCDEFGHIJKLMNOPQRSTUVWXYZ]</code></pre>
<p>Likewise, you can define a set with only lower case letters in English:</p>
<pre><code>[abcdefghijklmnopqrstuvwxyz]</code></pre>
<p>If you are interested in matching any digit, you can also specify a character
set like this:</p>
<pre><code>[0123456789]</code></pre>
</div>
<div id="character-ranges" class="section level2">
<h2><span class="header-section-number">12.2</span> Character ranges</h2>
<p>The previous examples that show character sets containing all the capital
letters or all lower case letters are very convenient but require a lot of
typing. <strong>Character ranges</strong> are going to help you solve that problem, by
giving you a convenient shortcut based on the dash metacharacter <code>&quot;-&quot;</code> to
indicate a range of characters. A character range consists of a character set
with two characters separated by a dash or minus <code>&quot;-&quot;</code> sign.</p>
<p>Let’s see how you can reexpress the examples in the previous section as
character ranges. The set of all digits can be expressed as a character range
using the following pattern:</p>
<pre><code>[0-9]</code></pre>
<p>Likewise, the set of all lower case letters <em>abcd…xyz</em> is compactly
represented with the character range:</p>
<pre><code>[a-z]</code></pre>
<p>And the character set of all upper case letters <em>ABD…XYZ</em> is formed by</p>
<pre><code>[A-Z]</code></pre>
<p>Note that the dash is only a metacharacter when it is inside a character set;
outside the character set it is just a literal dash.</p>
<p>So how do you use character range? To illustrate the concept of character
ranges let’s create a <code>basic</code> vector with some simple strings, and see
what the different ranges match:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">basic &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;1&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;A&#39;</span>, <span class="st">&#39;&amp;&#39;</span>, <span class="st">&#39;-&#39;</span>, <span class="st">&#39;^&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="co"># digits</span></a>
<a class="sourceLine" id="cb200-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&#39;[0-9]&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1"><span class="co"># lower case letters</span></a>
<a class="sourceLine" id="cb201-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&#39;[a-z]&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="co"># upper case letters</span></a>
<a class="sourceLine" id="cb202-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&#39;[A-Z]&#39;</span>)</a></code></pre></div>
<p>Now consider the following vector <code>triplets</code>:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1">triplets &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;123&#39;</span>, <span class="st">&#39;abc&#39;</span>, <span class="st">&#39;ABC&#39;</span>, <span class="st">&#39;:-)&#39;</span>)</a></code></pre></div>
<p>You can use a series of character ranges to match various occurrences of
a certain type of character. For example, to match three consecutive digits
you can define a pattern <code>&quot;[0-9][0-9][0-9]&quot;</code>; to match three consecutive
lower case letters you can use the pattern <code>&quot;[a-z][a-z][a-z]&quot;</code>; and the
same idea applies to a pattern that matches three consecutive upper case
letters <code>&quot;[A-Z][A-Z][A-Z]&quot;</code>.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="kw">str_view</span>(triplets, <span class="st">&#39;[0-9][0-9][0-9]&#39;</span>)</a>
<a class="sourceLine" id="cb204-2" data-line-number="2"></a>
<a class="sourceLine" id="cb204-3" data-line-number="3"><span class="kw">str_view</span>(triplets, <span class="st">&#39;[A-Z][A-Z][A-Z]&#39;</span>)</a></code></pre></div>
<p>Observe that the element <code>&quot;:-)&quot;</code> is not matched by any of the character ranges
that we have seen so far.</p>
<p>Character ranges can be defined in multiple ways. For example, the range
<code>&quot;[1-3]&quot;</code> indicates any one digit 1, 2, or 3. Another range may be defined
as <code>&quot;[5-9]&quot;</code> comprising any one digit 5, 6, 7, 8 or 9. The same idea applies
to letters. You can define shorter ranges other than <code>&quot;[a-z]&quot;</code>. One example
is <code>&quot;[a-d]&quot;</code> which consists of any one lettere <em>a</em>, <em>b</em>, <em>c</em>, and <em>d</em>.</p>
</div>
<div id="negative-character-sets" class="section level2">
<h2><span class="header-section-number">12.3</span> Negative Character Sets</h2>
<p>A common situation when working with regular expressions consists of matching
characters that are NOT part of a certain set. This type of matching can be
done using a negative character set: by matching any one character that is not
in the set. To define this type of sets you are going to use the metacharacter
caret <code>&quot;^&quot;</code>. If you are using a QWERTY keyboard, the caret symbol should be
located over the key with the number 6.</p>
<p>The caret <code>&quot;^&quot;</code> is one of those metacharacters that have more than one meaning
depending on where it appears in a pattern. If you use a caret in the first
position inside a character set, e.g. <code>[^aeiou]</code>, it means <em>negation</em>. In
other words, the caret in <code>[^aeiou]</code> means “not any one of lower case vowels.”</p>
<p>Let’s use the <code>basic</code> vector previously defined:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1">basic &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;1&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;A&#39;</span>, <span class="st">&#39;&amp;&#39;</span>, <span class="st">&#39;-&#39;</span>, <span class="st">&#39;^&#39;</span>)</a></code></pre></div>
<p>To match those elements that are NOT upper case letters, you define a negative
character range <code>&quot;[^A-Z]&quot;</code>:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1"><span class="kw">str_view</span>(basic, <span class="st">&#39;[^A-Z]&#39;</span>)</a></code></pre></div>
<p>It is important that the caret is the first character inside the character
set, otherwise the set is not a negative one:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1"><span class="kw">str_view</span>(basic, <span class="st">&#39;[A-Z^]&#39;</span>)</a></code></pre></div>
<p>In the example above, the pattern <code>&quot;[A-Z^]&quot;</code> means “any one upper case letter
or the caret character.” Which is completely different from the negative set
<code>&quot;[^A-Z]&quot;</code> that negates any one upper case letter.</p>
<p>If you want to match any character except the caret, then you need to use a
character set with two carets: <code>&quot;[^^]&quot;</code>. The first caret works as a negative
operator, the second caret is the caret character itself:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="kw">str_view</span>(basic, <span class="st">&#39;[^^]&#39;</span>)</a></code></pre></div>
</div>
<div id="metacharacters-inside-character-sets" class="section level2">
<h2><span class="header-section-number">12.4</span> Metacharacters inside character sets</h2>
<p>Now that you know what character sets are, how to define character ranges,
and how to specify negative character sets, we need to talk about what
happens when including metacharacters inside character sets.</p>
<p>Except for the caret in the first position of the character set, any other
metacharacter inside a character set is already escaped. This implies that
you do not need to escape them using backslashes.</p>
<p>To illustrate the use of metacharacters inside character sets, let’s use
the <code>pnx</code> vector:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1">pnx &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;pan&#39;</span>, <span class="st">&#39;pen&#39;</span>, <span class="st">&#39;pin&#39;</span>, <span class="st">&#39;p0n&#39;</span>, <span class="st">&#39;p.n&#39;</span>, <span class="st">&#39;p1n&#39;</span>, <span class="st">&#39;paun&#39;</span>)</a></code></pre></div>
<p>The character set formed by <code>&quot;p[ae.io]n&quot;</code> includes the dot character. Remember
that, in general, the period is the wildcard metacharacter and it matches
any type of character. However, the period in this example is inside a
character set, and because of that, it loses its wildcard behavior.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1"><span class="kw">str_view</span>(pnx, <span class="st">&quot;p[ae.io]n&quot;</span>)</a></code></pre></div>
<p>As you can tell, <code>&quot;p[ae.io]n&quot;</code> matches <em>pan</em>, <em>pen</em>, <em>pin</em> and <em>p.n</em>,
but not <em>p0n</em> or <em>p1n</em> because the dot is the literal dot, not a wildcard
character anymore.</p>
<p>Not all metacharacters become literal characters when they appear inside a
character set. The exceptions are the closing bracket <code>]</code>, the dash <code>-</code>,
the caret <code>^</code>, and the backslash <code>\</code>.</p>
<p>The closing bracket <code>]</code> is used to enclose the character set. Thus, if you
want to use a literal right bracket inside a character set you must escape it:
<code>[aei\\[ou]</code>. Remember that in R you use double backslash for escaping
purposes. This is also why the backslash <code>\</code>, or double backslash in R,
does not become a literal character.</p>
<p>Another interesting case has to do with the dash or hyphen <code>-</code> character. As
you know, the dash inside a character set is used to define a range of
characters: e.g. <code>[0-9]</code>, <code>[x-z]</code>, and <code>[K-P]</code>. As a general rule, if you
want to include a literal dash as part of a range, you should escape it:
<code>&quot;[a-z\\-]&quot;</code>.</p>
<p>Let’s modify the <code>basic</code> vector by adding an opening and ending brackets:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1">basic &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;1&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;A&#39;</span>, <span class="st">&#39;&amp;&#39;</span>, <span class="st">&#39;-&#39;</span>, <span class="st">&#39;^&#39;</span>, <span class="st">&#39;[&#39;</span>, <span class="st">&#39;]&#39;</span>)</a></code></pre></div>
<p>How do you match each of the characters that have a special meaning inside a
character set?</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1"><span class="co"># matching a literal caret</span></a>
<a class="sourceLine" id="cb212-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&quot;[a</span><span class="ch">\\</span><span class="st">^]&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" data-line-number="1"><span class="co"># matching a literal dash</span></a>
<a class="sourceLine" id="cb213-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&quot;[a</span><span class="ch">\\</span><span class="st">-]&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1"><span class="co"># matching a literal opening bracket</span></a>
<a class="sourceLine" id="cb214-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&quot;[a</span><span class="ch">\\</span><span class="st">[]&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1"><span class="co"># matching a literal closing bracket</span></a>
<a class="sourceLine" id="cb215-2" data-line-number="2"><span class="kw">str_view</span>(basic, <span class="st">&quot;[a</span><span class="ch">\\</span><span class="st">]]&quot;</span>)</a></code></pre></div>
</div>
<div id="character-classes" class="section level2">
<h2><span class="header-section-number">12.5</span> Character Classes</h2>
<p>Closely related with character sets and character ranges, regular expressions
provide another useful construct called <strong>character classes</strong> which, as their
name indicates, are used to match a certain class of characters. The most
common character classes in most regex engines are:</p>
<table>
<thead>
<tr class="header">
<th align="left">Character</th>
<th align="left">Matches</th>
<th align="left">Same as</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>\\d</code></td>
<td align="left">any digit</td>
<td align="left"><code>[0-9]</code></td>
</tr>
<tr class="even">
<td align="left"><code>\\D</code></td>
<td align="left">any nondigit</td>
<td align="left"><code>[^0-9]</code></td>
</tr>
<tr class="odd">
<td align="left"><code>\\w</code></td>
<td align="left">any character considered part of a word</td>
<td align="left"><code>[a-zA-Z0-9_]</code></td>
</tr>
<tr class="even">
<td align="left"><code>\\W</code></td>
<td align="left">any character not considered part of a word</td>
<td align="left"><code>[^a-zA-Z0-9_]</code></td>
</tr>
<tr class="odd">
<td align="left"><code>\\s</code></td>
<td align="left">any whitespace character</td>
<td align="left"><code>[\f\n\r\t\v]</code></td>
</tr>
<tr class="even">
<td align="left"><code>\\S</code></td>
<td align="left">any nonwhitespace character</td>
<td align="left"><code>[^\f\n\r\t\v]</code></td>
</tr>
</tbody>
</table>
<p>You can think of character classes as another type of metacharacters, or as
shortcuts for special character sets.</p>
<p>The following table shows the characters that represent whitespaces:</p>
<table>
<thead>
<tr class="header">
<th align="left">Character</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>\f</code></td>
<td align="left">form feed</td>
</tr>
<tr class="even">
<td align="left"><code>\n</code></td>
<td align="left">line feed</td>
</tr>
<tr class="odd">
<td align="left"><code>\r</code></td>
<td align="left">carriage return</td>
</tr>
<tr class="even">
<td align="left"><code>\t</code></td>
<td align="left">tab</td>
</tr>
<tr class="odd">
<td align="left"><code>\v</code></td>
<td align="left">vertical tab</td>
</tr>
</tbody>
</table>
<p>Sometimes you have to deal with nonprinting whitespace characters. In these
situations you probably will end up using the whitespace character class <code>\\s</code>.
A common example is when you have to match tab characters, or line breaks.</p>
<p>The operating system Windows uses <code>\r\n</code> as an end-of-line marker. In contrast,
Unix-like operating systems (including Mac OS) use <code>\n</code>.</p>
<p>Tab characters <code>\t</code> are commonly used as a field-separator for data files. But
most text editors render them as whitespaces.</p>
</div>
<div id="posix-character-classes" class="section level2">
<h2><span class="header-section-number">12.6</span> POSIX Character Classes</h2>
<p>We finish this chapter with the introduction of another type of character
classes known as <strong>POSIX character classes</strong>. These are yet another class
construct that is supported by the regex engine in R.</p>
<table>
<thead>
<tr class="header">
<th align="left">Class</th>
<th align="left">Description</th>
<th align="left">Same as</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>[:alnum:]</code></td>
<td align="left">any letter or digit</td>
<td align="left"><code>[a-zA-Z0-9]</code></td>
</tr>
<tr class="even">
<td align="left"><code>[:alpha:]</code></td>
<td align="left">any letter</td>
<td align="left"><code>[a-zA-Z]</code></td>
</tr>
<tr class="odd">
<td align="left"><code>[:digit:]</code></td>
<td align="left">any digit</td>
<td align="left"><code>[0-9]</code></td>
</tr>
<tr class="even">
<td align="left"><code>[:lower:]</code></td>
<td align="left">any lower case letter</td>
<td align="left"><code>[a-z]</code></td>
</tr>
<tr class="odd">
<td align="left"><code>[:upper:]</code></td>
<td align="left">any upper case letter</td>
<td align="left"><code>[A-Z]</code></td>
</tr>
<tr class="even">
<td align="left"><code>[:space:]</code></td>
<td align="left">any whitespace inluding space</td>
<td align="left"><code>[\f\n\r\t\v ]</code></td>
</tr>
<tr class="odd">
<td align="left"><code>[:punct:]</code></td>
<td align="left">any punctuation symbol</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>[:print:]</code></td>
<td align="left">any printable character</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><code>[:graph:]</code></td>
<td align="left">any printable character excluding space</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><code>[:xdigit:]</code></td>
<td align="left">any hexadecimal digit</td>
<td align="left"><code>[a-fA-F0-9]</code></td>
</tr>
<tr class="odd">
<td align="left"><code>[:cntrl:]</code></td>
<td align="left">ASCII control characters</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Notice that a POSIX character class is formed by an opening bracket <code>[</code>,
followed by a colon <code>:</code>, followed by some keyword, followed by another
colon <code>:</code>, and finally a closing bracket <code>]</code>.</p>
<p>In order to use them in R, you have to wrap a POSIX class inside a regex
character class. That is, you have to surround a POSIX class with brackets.</p>
<p>Once again, refer to the <code>pnx</code> vector to illustrate the use of POSIX classes:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1">pnx &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;pan&#39;</span>, <span class="st">&#39;pen&#39;</span>, <span class="st">&#39;pin&#39;</span>, <span class="st">&#39;p0n&#39;</span>, <span class="st">&#39;p.n&#39;</span>, <span class="st">&#39;p1n&#39;</span>, <span class="st">&#39;paun&#39;</span>)</a></code></pre></div>
<p>Let’s start with the <code>[:alpha:]</code> class, and see what does it match in <code>pnx</code>:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="kw">str_view</span>(pnx, <span class="st">&quot;[[:alpha:]]&quot;</span>)</a></code></pre></div>
<p>Now let’s test it with <code>[:digit:]</code></p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="kw">str_view</span>(pnx, <span class="st">&quot;[[:digit:]]&quot;</span>)</a></code></pre></div>
<hr />
<div id="make-a-donation-9" class="section level4 unnumbered">
<h4>Make a donation</h4>
<p>If you find this resource useful, please consider making a one-time donation in any amount. Your support really matters.</p>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_donations" />
<input type="hidden" name="business" value="ZF6U7K5MW25W2" />
<input type="hidden" name="currency_code" value="USD" />
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" />
</form>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="metacharacters.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="applications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/gastonstat/r4strings/edit/master/character-sets.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
