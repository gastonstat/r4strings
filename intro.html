<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Introductory Appetizer | Handling Strings With R</title>
  <meta name="description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Introductory Appetizer | Handling Strings With R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://leanpub.com/r4strings" />
  <meta property="og:image" content="https://leanpub.com/r4stringsimages/cover.png" />
  <meta property="og:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="github-repo" content="gastonstat/r4strings" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Introductory Appetizer | Handling Strings With R" />
  
  <meta name="twitter:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="twitter:image" content="https://leanpub.com/r4stringsimages/cover.png" />

<meta name="author" content="Gaston Sanchez" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preface.html"/>
<link rel="next" href="chars.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handling Strings With R</a></li>

<li class="divider"></li>
<li><a href="index.html#r4strings"><code>r4strings</code></a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Full Edition</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#preview-edition"><i class="fa fa-check"></i>Preview Edition</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#text-is-omnipresent"><i class="fa fa-check"></i>Text Is Omnipresent</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-this-book"><i class="fa fa-check"></i>About This Book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-the-reader"><i class="fa fa-check"></i>About the Reader</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#main-resources"><i class="fa fa-check"></i>Main Resources</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#citation"><i class="fa fa-check"></i>Citation</a></li>
</ul></li>
<li class="part"><span><b>I Characters and Strings in R</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introductory Appetizer</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#a-toy-example"><i class="fa fa-check"></i><b>1.1</b> A Toy Example</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#abbreviating-strings"><i class="fa fa-check"></i><b>1.1.1</b> Abbreviating strings</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#getting-the-longest-name"><i class="fa fa-check"></i><b>1.1.2</b> Getting the longest name</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#selecting-states"><i class="fa fa-check"></i><b>1.1.3</b> Selecting States</a></li>
<li class="chapter" data-level="1.1.4" data-path="intro.html"><a href="intro.html#some-computations"><i class="fa fa-check"></i><b>1.1.4</b> Some computations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chars.html"><a href="chars.html"><i class="fa fa-check"></i><b>2</b> Character Strings in R</a><ul>
<li class="chapter" data-level="2.1" data-path="chars.html"><a href="chars.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="chars.html"><a href="chars.html#characters-in-r"><i class="fa fa-check"></i><b>2.2</b> Characters in R</a></li>
<li class="chapter" data-level="2.3" data-path="chars.html"><a href="chars.html#getting-started-with-strings"><i class="fa fa-check"></i><b>2.3</b> Getting Started with Strings</a></li>
<li class="chapter" data-level="2.4" data-path="chars.html"><a href="chars.html#creating-character-strings"><i class="fa fa-check"></i><b>2.4</b> Creating Character Strings</a><ul>
<li class="chapter" data-level="2.4.1" data-path="chars.html"><a href="chars.html#empty-string"><i class="fa fa-check"></i><b>2.4.1</b> Empty string</a></li>
<li class="chapter" data-level="2.4.2" data-path="chars.html"><a href="chars.html#empty-character-vector"><i class="fa fa-check"></i><b>2.4.2</b> Empty character vector</a></li>
<li class="chapter" data-level="2.4.3" data-path="chars.html"><a href="chars.html#function-c"><i class="fa fa-check"></i><b>2.4.3</b> Function <code>c()</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="chars.html"><a href="chars.html#is.character-and-as.character"><i class="fa fa-check"></i><b>2.4.4</b> <code>is.character()</code> and <code>as.character()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="chars.html"><a href="chars.html#strings-and-r-objects"><i class="fa fa-check"></i><b>2.5</b> Strings and R Objects</a><ul>
<li class="chapter" data-level="2.5.1" data-path="chars.html"><a href="chars.html#behavior-of-r-objects-with-character-strings"><i class="fa fa-check"></i><b>2.5.1</b> Behavior of R objects with character strings</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="chars.html"><a href="chars.html#the-workhorse-function-paste"><i class="fa fa-check"></i><b>2.6</b> The Workhorse Function <code>paste()</code></a></li>
<li class="chapter" data-level="2.7" data-path="chars.html"><a href="chars.html#getting-text-into-r"><i class="fa fa-check"></i><b>2.7</b> Getting Text into R</a><ul>
<li class="chapter" data-level="2.7.1" data-path="chars.html"><a href="chars.html#reading-tables"><i class="fa fa-check"></i><b>2.7.1</b> Reading tables</a></li>
<li class="chapter" data-level="2.7.2" data-path="chars.html"><a href="chars.html#reading-raw-text"><i class="fa fa-check"></i><b>2.7.2</b> Reading raw text</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basics1.html"><a href="basics1.html"><i class="fa fa-check"></i><b>3</b> Basic Manipulations with <code>"base"</code> Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="basics1.html"><a href="basics1.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="basics1.html"><a href="basics1.html#basic-string-manipulations"><i class="fa fa-check"></i><b>3.2</b> Basic String Manipulations</a><ul>
<li class="chapter" data-level="3.2.1" data-path="basics1.html"><a href="basics1.html#count-number-of-characters-with-nchar"><i class="fa fa-check"></i><b>3.2.1</b> Count number of characters with <code>nchar()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="basics1.html"><a href="basics1.html#convert-to-lower-case-with-tolower"><i class="fa fa-check"></i><b>3.2.2</b> Convert to lower case with <code>tolower()</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="basics1.html"><a href="basics1.html#convert-to-upper-case-with-toupper"><i class="fa fa-check"></i><b>3.2.3</b> Convert to upper case with <code>toupper()</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="basics1.html"><a href="basics1.html#upper-or-lower-case-conversion-with-casefold"><i class="fa fa-check"></i><b>3.2.4</b> Upper or lower case conversion with <code>casefold()</code></a></li>
<li class="chapter" data-level="3.2.5" data-path="basics1.html"><a href="basics1.html#character-translation-with-chartr"><i class="fa fa-check"></i><b>3.2.5</b> Character translation with <code>chartr()</code></a></li>
<li class="chapter" data-level="3.2.6" data-path="basics1.html"><a href="basics1.html#abbreviate-strings-with-abbreviate"><i class="fa fa-check"></i><b>3.2.6</b> Abbreviate strings with <code>abbreviate()</code></a></li>
<li class="chapter" data-level="3.2.7" data-path="basics1.html"><a href="basics1.html#replace-substrings-with-substr"><i class="fa fa-check"></i><b>3.2.7</b> Replace substrings with <code>substr()</code></a></li>
<li class="chapter" data-level="3.2.8" data-path="basics1.html"><a href="basics1.html#replace-substrings-with-substring"><i class="fa fa-check"></i><b>3.2.8</b> Replace substrings with <code>substring()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="basics1.html"><a href="basics1.html#set-operations"><i class="fa fa-check"></i><b>3.3</b> Set Operations</a><ul>
<li class="chapter" data-level="3.3.1" data-path="basics1.html"><a href="basics1.html#set-union-with-union"><i class="fa fa-check"></i><b>3.3.1</b> Set union with <code>union()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="basics1.html"><a href="basics1.html#set-intersection-with-intersect"><i class="fa fa-check"></i><b>3.3.2</b> Set intersection with <code>intersect()</code></a></li>
<li class="chapter" data-level="3.3.3" data-path="basics1.html"><a href="basics1.html#set-difference-with-setdiff"><i class="fa fa-check"></i><b>3.3.3</b> Set difference with <code>setdiff()</code></a></li>
<li class="chapter" data-level="3.3.4" data-path="basics1.html"><a href="basics1.html#set-equality-with-setequal"><i class="fa fa-check"></i><b>3.3.4</b> Set equality with <code>setequal()</code></a></li>
<li class="chapter" data-level="3.3.5" data-path="basics1.html"><a href="basics1.html#exact-equality-with-identical"><i class="fa fa-check"></i><b>3.3.5</b> Exact equality with <code>identical()</code></a></li>
<li class="chapter" data-level="3.3.6" data-path="basics1.html"><a href="basics1.html#element-contained-with-is.element"><i class="fa fa-check"></i><b>3.3.6</b> Element contained with <code>is.element()</code></a></li>
<li class="chapter" data-level="3.3.7" data-path="basics1.html"><a href="basics1.html#sorting-with-sort"><i class="fa fa-check"></i><b>3.3.7</b> Sorting with <code>sort()</code></a></li>
<li class="chapter" data-level="3.3.8" data-path="basics1.html"><a href="basics1.html#repetition-with-pasterep"><i class="fa fa-check"></i><b>3.3.8</b> Repetition with <code>paste(rep())</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basics2.html"><a href="basics2.html"><i class="fa fa-check"></i><b>4</b> Basic Manipulations with <code>"stringr"</code> Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="basics2.html"><a href="basics2.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="basics2.html"><a href="basics2.html#package-stringr"><i class="fa fa-check"></i><b>4.2</b> Package <code>"stringr"</code></a></li>
<li class="chapter" data-level="4.3" data-path="basics2.html"><a href="basics2.html#basic-string-operations"><i class="fa fa-check"></i><b>4.3</b> Basic String Operations</a><ul>
<li class="chapter" data-level="4.3.1" data-path="basics2.html"><a href="basics2.html#concatenating-with-str_c"><i class="fa fa-check"></i><b>4.3.1</b> Concatenating with <code>str_c()</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="basics2.html"><a href="basics2.html#number-of-characters-with-str_length"><i class="fa fa-check"></i><b>4.3.2</b> Number of characters with <code>str_length()</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="basics2.html"><a href="basics2.html#substring-with-str_sub"><i class="fa fa-check"></i><b>4.3.3</b> Substring with <code>str_sub()</code></a></li>
<li class="chapter" data-level="4.3.4" data-path="basics2.html"><a href="basics2.html#duplication-with-str_dup"><i class="fa fa-check"></i><b>4.3.4</b> Duplication with <code>str_dup()</code></a></li>
<li class="chapter" data-level="4.3.5" data-path="basics2.html"><a href="basics2.html#padding-with-str_pad"><i class="fa fa-check"></i><b>4.3.5</b> Padding with <code>str_pad()</code></a></li>
<li class="chapter" data-level="4.3.6" data-path="basics2.html"><a href="basics2.html#wrapping-with-str_wrap"><i class="fa fa-check"></i><b>4.3.6</b> Wrapping with <code>str_wrap()</code></a></li>
<li class="chapter" data-level="4.3.7" data-path="basics2.html"><a href="basics2.html#trimming-with-str_trim"><i class="fa fa-check"></i><b>4.3.7</b> Trimming with <code>str_trim()</code></a></li>
<li class="chapter" data-level="4.3.8" data-path="basics2.html"><a href="basics2.html#word-extraction-with-word"><i class="fa fa-check"></i><b>4.3.8</b> Word extraction with <code>word()</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Printing and Formatting</b></span></li>
<li class="part"><span><b>III Regular Expressions</b></span></li>
<li class="part"><span><b>IV Applications</b></span></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handling Strings With R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">1</span> Introductory Appetizer</h1>
<p>To give you an idea of some of the things we can do in R with string
processing, let’s play a bit with a simple example.</p>
<div id="a-toy-example" class="section level2">
<h2><span class="header-section-number">1.1</span> A Toy Example</h2>
<p>For this crash informal introduction, we’ll use the data frame <code>USArrests</code>
that already comes with R. Use the function <code>head()</code> to get a peek of
the data:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="intro.html#cb1-1"></a><span class="co"># take a peek of USArrests</span></span>
<span id="cb1-2"><a href="intro.html#cb1-2"></a><span class="kw">head</span>(USArrests)</span>
<span id="cb1-3"><a href="intro.html#cb1-3"></a><span class="co">#&gt;            Murder Assault UrbanPop Rape</span></span>
<span id="cb1-4"><a href="intro.html#cb1-4"></a><span class="co">#&gt; Alabama      13.2     236       58 21.2</span></span>
<span id="cb1-5"><a href="intro.html#cb1-5"></a><span class="co">#&gt; Alaska       10.0     263       48 44.5</span></span>
<span id="cb1-6"><a href="intro.html#cb1-6"></a><span class="co">#&gt; Arizona       8.1     294       80 31.0</span></span>
<span id="cb1-7"><a href="intro.html#cb1-7"></a><span class="co">#&gt; Arkansas      8.8     190       50 19.5</span></span>
<span id="cb1-8"><a href="intro.html#cb1-8"></a><span class="co">#&gt; California    9.0     276       91 40.6</span></span>
<span id="cb1-9"><a href="intro.html#cb1-9"></a><span class="co">#&gt; Colorado      7.9     204       78 38.7</span></span></code></pre></div>
<p>The labels on the rows such as <code>Alabama</code> or <code>Alaska</code> are displayed
strings. Likewise, the labels of the columns—<code>Murder</code>, <code>Assault</code>,
<code>UrbanPop</code> and <code>Rape</code>—are also strings.</p>
<div id="abbreviating-strings" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Abbreviating strings</h3>
<p>Suppose we want to abbreviate the names of the States. Furthermore, suppose we
want to abbreviate the names using the first four characters of each name. One
way to do that is by using the function <code>substr()</code> which substrings a
character vector. We just need to indicate the <code>start=1</code> and <code>stop=4</code>
positions:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="intro.html#cb2-1"></a><span class="co"># names of states</span></span>
<span id="cb2-2"><a href="intro.html#cb2-2"></a>states &lt;-<span class="st"> </span><span class="kw">rownames</span>(USArrests)</span>
<span id="cb2-3"><a href="intro.html#cb2-3"></a></span>
<span id="cb2-4"><a href="intro.html#cb2-4"></a><span class="co"># substr</span></span>
<span id="cb2-5"><a href="intro.html#cb2-5"></a><span class="kw">substr</span>(<span class="dt">x =</span> states, <span class="dt">start =</span> <span class="dv">1</span>, <span class="dt">stop =</span> <span class="dv">4</span>)</span>
<span id="cb2-6"><a href="intro.html#cb2-6"></a><span class="co">#&gt;  [1] &quot;Alab&quot; &quot;Alas&quot; &quot;Ariz&quot; &quot;Arka&quot; &quot;Cali&quot; &quot;Colo&quot; &quot;Conn&quot; &quot;Dela&quot; &quot;Flor&quot; &quot;Geor&quot;</span></span>
<span id="cb2-7"><a href="intro.html#cb2-7"></a><span class="co">#&gt; [11] &quot;Hawa&quot; &quot;Idah&quot; &quot;Illi&quot; &quot;Indi&quot; &quot;Iowa&quot; &quot;Kans&quot; &quot;Kent&quot; &quot;Loui&quot; &quot;Main&quot; &quot;Mary&quot;</span></span>
<span id="cb2-8"><a href="intro.html#cb2-8"></a><span class="co">#&gt; [21] &quot;Mass&quot; &quot;Mich&quot; &quot;Minn&quot; &quot;Miss&quot; &quot;Miss&quot; &quot;Mont&quot; &quot;Nebr&quot; &quot;Neva&quot; &quot;New &quot; &quot;New &quot;</span></span>
<span id="cb2-9"><a href="intro.html#cb2-9"></a><span class="co">#&gt; [31] &quot;New &quot; &quot;New &quot; &quot;Nort&quot; &quot;Nort&quot; &quot;Ohio&quot; &quot;Okla&quot; &quot;Oreg&quot; &quot;Penn&quot; &quot;Rhod&quot; &quot;Sout&quot;</span></span>
<span id="cb2-10"><a href="intro.html#cb2-10"></a><span class="co">#&gt; [41] &quot;Sout&quot; &quot;Tenn&quot; &quot;Texa&quot; &quot;Utah&quot; &quot;Verm&quot; &quot;Virg&quot; &quot;Wash&quot; &quot;West&quot; &quot;Wisc&quot; &quot;Wyom&quot;</span></span></code></pre></div>
<p>This may not be the best solution. Note that there are four states with the same
abbreviation <code>"New "</code> (New Hampshire, New Jersey, New Mexico, New York).
Likewise, North Carolina and North Dakota share the same name <code>"Nort"</code>.
In turn, South Carolina and South Dakota got the same abbreviation <code>"Sout"</code>.</p>
<p>A better way to abbreviate the names of the states can be performed by using
the function <code>abbreviate()</code> like so:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="intro.html#cb3-1"></a><span class="co"># abbreviate state names</span></span>
<span id="cb3-2"><a href="intro.html#cb3-2"></a>states2 &lt;-<span class="st"> </span><span class="kw">abbreviate</span>(states)</span>
<span id="cb3-3"><a href="intro.html#cb3-3"></a></span>
<span id="cb3-4"><a href="intro.html#cb3-4"></a><span class="co"># remove vector names (for convenience)</span></span>
<span id="cb3-5"><a href="intro.html#cb3-5"></a><span class="kw">names</span>(states2) &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb3-6"><a href="intro.html#cb3-6"></a>states2</span>
<span id="cb3-7"><a href="intro.html#cb3-7"></a><span class="co">#&gt;  [1] &quot;Albm&quot; &quot;Alsk&quot; &quot;Arzn&quot; &quot;Arkn&quot; &quot;Clfr&quot; &quot;Clrd&quot; &quot;Cnnc&quot; &quot;Dlwr&quot; &quot;Flrd&quot; &quot;Gerg&quot;</span></span>
<span id="cb3-8"><a href="intro.html#cb3-8"></a><span class="co">#&gt; [11] &quot;Hawa&quot; &quot;Idah&quot; &quot;Illn&quot; &quot;Indn&quot; &quot;Iowa&quot; &quot;Knss&quot; &quot;Kntc&quot; &quot;Losn&quot; &quot;Main&quot; &quot;Mryl&quot;</span></span>
<span id="cb3-9"><a href="intro.html#cb3-9"></a><span class="co">#&gt; [21] &quot;Mssc&quot; &quot;Mchg&quot; &quot;Mnns&quot; &quot;Msss&quot; &quot;Mssr&quot; &quot;Mntn&quot; &quot;Nbrs&quot; &quot;Nevd&quot; &quot;NwHm&quot; &quot;NwJr&quot;</span></span>
<span id="cb3-10"><a href="intro.html#cb3-10"></a><span class="co">#&gt; [31] &quot;NwMx&quot; &quot;NwYr&quot; &quot;NrtC&quot; &quot;NrtD&quot; &quot;Ohio&quot; &quot;Oklh&quot; &quot;Orgn&quot; &quot;Pnns&quot; &quot;RhdI&quot; &quot;SthC&quot;</span></span>
<span id="cb3-11"><a href="intro.html#cb3-11"></a><span class="co">#&gt; [41] &quot;SthD&quot; &quot;Tnns&quot; &quot;Texs&quot; &quot;Utah&quot; &quot;Vrmn&quot; &quot;Vrgn&quot; &quot;Wshn&quot; &quot;WstV&quot; &quot;Wscn&quot; &quot;Wymn&quot;</span></span></code></pre></div>
<p>If we decide to try an abbreviation with five letters we just simply change the
argument <code>minlength = 5</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="intro.html#cb4-1"></a><span class="co"># abbreviate state names with 5 letters</span></span>
<span id="cb4-2"><a href="intro.html#cb4-2"></a><span class="kw">abbreviate</span>(states, <span class="dt">minlength =</span> <span class="dv">5</span>)</span>
<span id="cb4-3"><a href="intro.html#cb4-3"></a><span class="co">#&gt;        Alabama         Alaska        Arizona       Arkansas     California </span></span>
<span id="cb4-4"><a href="intro.html#cb4-4"></a><span class="co">#&gt;        &quot;Alabm&quot;        &quot;Alask&quot;        &quot;Arizn&quot;        &quot;Arkns&quot;        &quot;Clfrn&quot; </span></span>
<span id="cb4-5"><a href="intro.html#cb4-5"></a><span class="co">#&gt;       Colorado    Connecticut       Delaware        Florida        Georgia </span></span>
<span id="cb4-6"><a href="intro.html#cb4-6"></a><span class="co">#&gt;        &quot;Colrd&quot;        &quot;Cnnct&quot;        &quot;Delwr&quot;        &quot;Flord&quot;        &quot;Georg&quot; </span></span>
<span id="cb4-7"><a href="intro.html#cb4-7"></a><span class="co">#&gt;         Hawaii          Idaho       Illinois        Indiana           Iowa </span></span>
<span id="cb4-8"><a href="intro.html#cb4-8"></a><span class="co">#&gt;        &quot;Hawai&quot;        &quot;Idaho&quot;        &quot;Illns&quot;        &quot;Indin&quot;         &quot;Iowa&quot; </span></span>
<span id="cb4-9"><a href="intro.html#cb4-9"></a><span class="co">#&gt;         Kansas       Kentucky      Louisiana          Maine       Maryland </span></span>
<span id="cb4-10"><a href="intro.html#cb4-10"></a><span class="co">#&gt;        &quot;Kanss&quot;        &quot;Kntck&quot;        &quot;Lousn&quot;        &quot;Maine&quot;        &quot;Mryln&quot; </span></span>
<span id="cb4-11"><a href="intro.html#cb4-11"></a><span class="co">#&gt;  Massachusetts       Michigan      Minnesota    Mississippi       Missouri </span></span>
<span id="cb4-12"><a href="intro.html#cb4-12"></a><span class="co">#&gt;        &quot;Mssch&quot;        &quot;Mchgn&quot;        &quot;Mnnst&quot;        &quot;Mssss&quot;        &quot;Missr&quot; </span></span>
<span id="cb4-13"><a href="intro.html#cb4-13"></a><span class="co">#&gt;        Montana       Nebraska         Nevada  New Hampshire     New Jersey </span></span>
<span id="cb4-14"><a href="intro.html#cb4-14"></a><span class="co">#&gt;        &quot;Montn&quot;        &quot;Nbrsk&quot;        &quot;Nevad&quot;        &quot;NwHmp&quot;        &quot;NwJrs&quot; </span></span>
<span id="cb4-15"><a href="intro.html#cb4-15"></a><span class="co">#&gt;     New Mexico       New York North Carolina   North Dakota           Ohio </span></span>
<span id="cb4-16"><a href="intro.html#cb4-16"></a><span class="co">#&gt;        &quot;NwMxc&quot;        &quot;NwYrk&quot;        &quot;NrthC&quot;        &quot;NrthD&quot;         &quot;Ohio&quot; </span></span>
<span id="cb4-17"><a href="intro.html#cb4-17"></a><span class="co">#&gt;       Oklahoma         Oregon   Pennsylvania   Rhode Island South Carolina </span></span>
<span id="cb4-18"><a href="intro.html#cb4-18"></a><span class="co">#&gt;        &quot;Oklhm&quot;        &quot;Oregn&quot;        &quot;Pnnsy&quot;        &quot;RhdIs&quot;        &quot;SthCr&quot; </span></span>
<span id="cb4-19"><a href="intro.html#cb4-19"></a><span class="co">#&gt;   South Dakota      Tennessee          Texas           Utah        Vermont </span></span>
<span id="cb4-20"><a href="intro.html#cb4-20"></a><span class="co">#&gt;        &quot;SthDk&quot;        &quot;Tnnss&quot;        &quot;Texas&quot;         &quot;Utah&quot;        &quot;Vrmnt&quot; </span></span>
<span id="cb4-21"><a href="intro.html#cb4-21"></a><span class="co">#&gt;       Virginia     Washington  West Virginia      Wisconsin        Wyoming </span></span>
<span id="cb4-22"><a href="intro.html#cb4-22"></a><span class="co">#&gt;        &quot;Virgn&quot;        &quot;Wshng&quot;        &quot;WstVr&quot;        &quot;Wscns&quot;        &quot;Wymng&quot;</span></span></code></pre></div>
</div>
<div id="getting-the-longest-name" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Getting the longest name</h3>
<p>Now let’s imagine that we need to find the longest name. This implies that we need to count the number of letters in each name. The function <code>nchar()</code> comes handy for that purpose. Here’s how we could do it:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="intro.html#cb5-1"></a><span class="co"># size (in characters) of each name</span></span>
<span id="cb5-2"><a href="intro.html#cb5-2"></a>state_chars =<span class="st"> </span><span class="kw">nchar</span>(states)</span>
<span id="cb5-3"><a href="intro.html#cb5-3"></a>state_chars</span>
<span id="cb5-4"><a href="intro.html#cb5-4"></a><span class="co">#&gt;  [1]  7  6  7  8 10  8 11  8  7  7  6  5  8  7  4  6  8  9  5  8 13  8  9 11  8</span></span>
<span id="cb5-5"><a href="intro.html#cb5-5"></a><span class="co">#&gt; [26]  7  8  6 13 10 10  8 14 12  4  8  6 12 12 14 12  9  5  4  7  8 10 13  9  7</span></span>
<span id="cb5-6"><a href="intro.html#cb5-6"></a></span>
<span id="cb5-7"><a href="intro.html#cb5-7"></a><span class="co"># longest name</span></span>
<span id="cb5-8"><a href="intro.html#cb5-8"></a>states[<span class="kw">which</span>(state_chars <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(state_chars))]</span>
<span id="cb5-9"><a href="intro.html#cb5-9"></a><span class="co">#&gt; [1] &quot;North Carolina&quot; &quot;South Carolina&quot;</span></span></code></pre></div>
</div>
<div id="selecting-states" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Selecting States</h3>
<p>To make things more interesting, let’s assume that we wish to select those states containing the letter <code>"k"</code>. How can we do that? Very simple, we just need to use the function <code>grep()</code> for working with regular expressions. Simply indicate the <code>pattern = "k"</code> as follows:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="intro.html#cb6-1"></a><span class="co"># get states names with &#39;k&#39;</span></span>
<span id="cb6-2"><a href="intro.html#cb6-2"></a><span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;k&quot;</span>, <span class="dt">x =</span> states, <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-3"><a href="intro.html#cb6-3"></a><span class="co">#&gt; [1] &quot;Alaska&quot;       &quot;Arkansas&quot;     &quot;Kentucky&quot;     &quot;Nebraska&quot;     &quot;New York&quot;    </span></span>
<span id="cb6-4"><a href="intro.html#cb6-4"></a><span class="co">#&gt; [6] &quot;North Dakota&quot; &quot;Oklahoma&quot;     &quot;South Dakota&quot;</span></span></code></pre></div>
<p>Instead of grabbing those names containing <code>"k"</code>, say we wish to select those states containing the letter <code>"w"</code>. Again, this can be done with <code>grep()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="intro.html#cb7-1"></a><span class="co"># get states names with &#39;w&#39;</span></span>
<span id="cb7-2"><a href="intro.html#cb7-2"></a><span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;w&quot;</span>, <span class="dt">x =</span> states, <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb7-3"><a href="intro.html#cb7-3"></a><span class="co">#&gt; [1] &quot;Delaware&quot;      &quot;Hawaii&quot;        &quot;Iowa&quot;          &quot;New Hampshire&quot;</span></span>
<span id="cb7-4"><a href="intro.html#cb7-4"></a><span class="co">#&gt; [5] &quot;New Jersey&quot;    &quot;New Mexico&quot;    &quot;New York&quot;</span></span></code></pre></div>
<p>Notice that we only selected those states with lowercase <code>"w"</code>. But what
about those states with uppercase <code>"W"</code>? There are several options to find
a solution for this question. One option is to specify the searched pattern as
a character class <code>"[wW]"</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="intro.html#cb8-1"></a><span class="co"># get states names with &#39;w&#39; or &#39;W&#39;</span></span>
<span id="cb8-2"><a href="intro.html#cb8-2"></a><span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;[wW]&quot;</span>, <span class="dt">x =</span> states, <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb8-3"><a href="intro.html#cb8-3"></a><span class="co">#&gt;  [1] &quot;Delaware&quot;      &quot;Hawaii&quot;        &quot;Iowa&quot;          &quot;New Hampshire&quot;</span></span>
<span id="cb8-4"><a href="intro.html#cb8-4"></a><span class="co">#&gt;  [5] &quot;New Jersey&quot;    &quot;New Mexico&quot;    &quot;New York&quot;      &quot;Washington&quot;   </span></span>
<span id="cb8-5"><a href="intro.html#cb8-5"></a><span class="co">#&gt;  [9] &quot;West Virginia&quot; &quot;Wisconsin&quot;     &quot;Wyoming&quot;</span></span></code></pre></div>
<p>Another solution is to first convert the state names to lower case, and then
look for the character <code>"w"</code>, like so:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="intro.html#cb9-1"></a><span class="co"># get states names with &#39;w&#39;</span></span>
<span id="cb9-2"><a href="intro.html#cb9-2"></a><span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;w&quot;</span>, <span class="dt">x =</span> <span class="kw">tolower</span>(states), <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb9-3"><a href="intro.html#cb9-3"></a><span class="co">#&gt;  [1] &quot;delaware&quot;      &quot;hawaii&quot;        &quot;iowa&quot;          &quot;new hampshire&quot;</span></span>
<span id="cb9-4"><a href="intro.html#cb9-4"></a><span class="co">#&gt;  [5] &quot;new jersey&quot;    &quot;new mexico&quot;    &quot;new york&quot;      &quot;washington&quot;   </span></span>
<span id="cb9-5"><a href="intro.html#cb9-5"></a><span class="co">#&gt;  [9] &quot;west virginia&quot; &quot;wisconsin&quot;     &quot;wyoming&quot;</span></span></code></pre></div>
<p>Alternatively, instead of converting the state names to lower case we could do
the opposite (convert to upper case), and then look for the character
<code>"W"</code>, like so:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="intro.html#cb10-1"></a><span class="co"># get states names with &#39;W&#39;</span></span>
<span id="cb10-2"><a href="intro.html#cb10-2"></a><span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;W&quot;</span>, <span class="dt">x =</span> <span class="kw">toupper</span>(states), <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb10-3"><a href="intro.html#cb10-3"></a><span class="co">#&gt;  [1] &quot;DELAWARE&quot;      &quot;HAWAII&quot;        &quot;IOWA&quot;          &quot;NEW HAMPSHIRE&quot;</span></span>
<span id="cb10-4"><a href="intro.html#cb10-4"></a><span class="co">#&gt;  [5] &quot;NEW JERSEY&quot;    &quot;NEW MEXICO&quot;    &quot;NEW YORK&quot;      &quot;WASHINGTON&quot;   </span></span>
<span id="cb10-5"><a href="intro.html#cb10-5"></a><span class="co">#&gt;  [9] &quot;WEST VIRGINIA&quot; &quot;WISCONSIN&quot;     &quot;WYOMING&quot;</span></span></code></pre></div>
<p>A third solution involves specifying the argument
<code>ignore.case=TRUE</code> inside <code>grep()</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="intro.html#cb11-1"></a><span class="co"># get states names with &#39;w&#39;</span></span>
<span id="cb11-2"><a href="intro.html#cb11-2"></a><span class="kw">grep</span>(<span class="dt">pattern =</span> <span class="st">&quot;w&quot;</span>, <span class="dt">x =</span> states, <span class="dt">value =</span> <span class="ot">TRUE</span>, <span class="dt">ignore.case =</span> <span class="ot">TRUE</span>)</span>
<span id="cb11-3"><a href="intro.html#cb11-3"></a><span class="co">#&gt;  [1] &quot;Delaware&quot;      &quot;Hawaii&quot;        &quot;Iowa&quot;          &quot;New Hampshire&quot;</span></span>
<span id="cb11-4"><a href="intro.html#cb11-4"></a><span class="co">#&gt;  [5] &quot;New Jersey&quot;    &quot;New Mexico&quot;    &quot;New York&quot;      &quot;Washington&quot;   </span></span>
<span id="cb11-5"><a href="intro.html#cb11-5"></a><span class="co">#&gt;  [9] &quot;West Virginia&quot; &quot;Wisconsin&quot;     &quot;Wyoming&quot;</span></span></code></pre></div>
</div>
<div id="some-computations" class="section level3">
<h3><span class="header-section-number">1.1.4</span> Some computations</h3>
<p>Besides manipulating strings and performing pattern matching operations, we can
also do some computations. For instance, we could ask for the distribution of
the State names’ length. To find the answer we can use <code>nchar()</code>.
Furthermore, we can plot a histogram of such distribution:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="intro.html#cb12-1"></a><span class="kw">summary</span>(<span class="kw">nchar</span>(states))</span>
<span id="cb12-2"><a href="intro.html#cb12-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb12-3"><a href="intro.html#cb12-3"></a><span class="co">#&gt;    4.00    7.00    8.00    8.44   10.00   14.00</span></span>
<span id="cb12-4"><a href="intro.html#cb12-4"></a></span>
<span id="cb12-5"><a href="intro.html#cb12-5"></a><span class="co"># histogram</span></span>
<span id="cb12-6"><a href="intro.html#cb12-6"></a><span class="kw">hist</span>(<span class="kw">nchar</span>(states), <span class="dt">las =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Histogram&quot;</span>, </span>
<span id="cb12-7"><a href="intro.html#cb12-7"></a>     <span class="dt">xlab =</span> <span class="st">&quot;number of characters in US State names&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/USArrests_hist-1.png" width="65%" style="display: block; margin: auto;" /></p>
<p>Let’s ask a more interesting question. What is the distribution of the vowels
in the names of the States? For instance, let’s start with the number of
<code>a</code>’s in each name. There’s a very useful function for this purpose:
<code>regexpr()</code>. We can use <code>regexpr()</code> to get the number of times that a
searched pattern is found in a character vector. When there is no match, we get
a value -1.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="intro.html#cb13-1"></a><span class="co"># position of a&#39;s</span></span>
<span id="cb13-2"><a href="intro.html#cb13-2"></a>positions_a &lt;-<span class="st"> </span><span class="kw">gregexpr</span>(<span class="dt">pattern=</span><span class="st">&quot;a&quot;</span>, <span class="dt">text=</span>states, <span class="dt">ignore.case =</span> <span class="ot">TRUE</span>)</span>
<span id="cb13-3"><a href="intro.html#cb13-3"></a></span>
<span id="cb13-4"><a href="intro.html#cb13-4"></a><span class="co"># how many a&#39;s?</span></span>
<span id="cb13-5"><a href="intro.html#cb13-5"></a>num_a &lt;-<span class="st"> </span><span class="kw">sapply</span>(positions_a, <span class="cf">function</span>(x) <span class="kw">ifelse</span>(x[<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">0</span>, <span class="kw">length</span>(x), <span class="dv">0</span>))</span>
<span id="cb13-6"><a href="intro.html#cb13-6"></a>num_a</span>
<span id="cb13-7"><a href="intro.html#cb13-7"></a><span class="co">#&gt;  [1] 4 3 2 3 2 1 0 2 1 1 2 1 0 2 1 2 0 2 1 2 2 1 1 0 0 2 2 2 1 0 0 0 2 2 0 2 0 2</span></span>
<span id="cb13-8"><a href="intro.html#cb13-8"></a><span class="co">#&gt; [39] 1 2 2 0 1 1 0 1 1 1 0 0</span></span></code></pre></div>
<p>If you inspect <code>positions_a</code> you’ll see that it contains some negative
numbers <code>-1</code>. This means there are no letters <code>a</code> in that name. To
get the number of occurrences of <code>a</code>’s we are taking a shortcut with
<code>sapply()</code>.</p>
<p>The same operation can be performed by using the function
<code>str_count()</code> from the package <code>"stringr"</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="intro.html#cb14-1"></a><span class="co"># load stringr (remember to install it first)</span></span>
<span id="cb14-2"><a href="intro.html#cb14-2"></a><span class="kw">library</span>(stringr)</span>
<span id="cb14-3"><a href="intro.html#cb14-3"></a></span>
<span id="cb14-4"><a href="intro.html#cb14-4"></a><span class="co"># total number of a&#39;s</span></span>
<span id="cb14-5"><a href="intro.html#cb14-5"></a><span class="kw">str_count</span>(states, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb14-6"><a href="intro.html#cb14-6"></a><span class="co">#&gt;  [1] 3 2 1 2 2 1 0 2 1 1 2 1 0 2 1 2 0 2 1 2 2 1 1 0 0 2 2 2 1 0 0 0 2 2 0 2 0 2</span></span>
<span id="cb14-7"><a href="intro.html#cb14-7"></a><span class="co">#&gt; [39] 1 2 2 0 1 1 0 1 1 1 0 0</span></span></code></pre></div>
<p>Notice that we are only getting the number of <code>a</code>’s in lower case. Since
<code>str_count()</code> does not contain the argument <code>ignore.case</code>, we need
to transform all letters to lower case, and then count the number of <code>a</code>’s
like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="intro.html#cb15-1"></a><span class="co"># total number of a&#39;s</span></span>
<span id="cb15-2"><a href="intro.html#cb15-2"></a><span class="kw">str_count</span>(<span class="kw">tolower</span>(states), <span class="st">&quot;a&quot;</span>)</span>
<span id="cb15-3"><a href="intro.html#cb15-3"></a><span class="co">#&gt;  [1] 4 3 2 3 2 1 0 2 1 1 2 1 0 2 1 2 0 2 1 2 2 1 1 0 0 2 2 2 1 0 0 0 2 2 0 2 0 2</span></span>
<span id="cb15-4"><a href="intro.html#cb15-4"></a><span class="co">#&gt; [39] 1 2 2 0 1 1 0 1 1 1 0 0</span></span></code></pre></div>
<p>Once we know how to do it for one vowel, we can do the same for all the vowels:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="intro.html#cb16-1"></a><span class="co"># calculate number of vowels in each name</span></span>
<span id="cb16-2"><a href="intro.html#cb16-2"></a>vowels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="st">&quot;u&quot;</span>)</span>
<span id="cb16-3"><a href="intro.html#cb16-3"></a>num_vowels &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;integer&quot;</span>, <span class="dt">length =</span> <span class="dv">5</span>)</span>
<span id="cb16-4"><a href="intro.html#cb16-4"></a></span>
<span id="cb16-5"><a href="intro.html#cb16-5"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="kw">seq_along</span>(vowels)) {</span>
<span id="cb16-6"><a href="intro.html#cb16-6"></a>  num_aux &lt;-<span class="st"> </span><span class="kw">str_count</span>(<span class="kw">tolower</span>(states), vowels[j])</span>
<span id="cb16-7"><a href="intro.html#cb16-7"></a>  num_vowels[j] &lt;-<span class="st"> </span><span class="kw">sum</span>(num_aux)</span>
<span id="cb16-8"><a href="intro.html#cb16-8"></a>}</span>
<span id="cb16-9"><a href="intro.html#cb16-9"></a></span>
<span id="cb16-10"><a href="intro.html#cb16-10"></a><span class="co"># sort them in decreasing order</span></span>
<span id="cb16-11"><a href="intro.html#cb16-11"></a><span class="kw">names</span>(num_vowels) &lt;-<span class="st"> </span>vowels</span>
<span id="cb16-12"><a href="intro.html#cb16-12"></a><span class="kw">sort</span>(num_vowels, <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</span>
<span id="cb16-13"><a href="intro.html#cb16-13"></a><span class="co">#&gt;  a  i  o  e  u </span></span>
<span id="cb16-14"><a href="intro.html#cb16-14"></a><span class="co">#&gt; 61 44 36 28  8</span></span>
<span id="cb16-15"><a href="intro.html#cb16-15"></a></span>
<span id="cb16-16"><a href="intro.html#cb16-16"></a><span class="co"># barplot</span></span>
<span id="cb16-17"><a href="intro.html#cb16-17"></a><span class="kw">barplot</span>(num_vowels, <span class="dt">main =</span> <span class="st">&quot;Number of vowels in USA States names&quot;</span>, </span>
<span id="cb16-18"><a href="intro.html#cb16-18"></a>        <span class="dt">border =</span> <span class="ot">NA</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">80</span>), <span class="dt">las =</span> <span class="dv">1</span>, <span class="dt">horiz =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/USArrests_vowels-1.png" width="60%" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preface.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chars.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/gastonstat/r4strings/edit/master/01-introduction.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
